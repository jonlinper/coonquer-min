!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-geo"),require("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-path"],e):e(t.d3=t.d3||{},t.d3,t.d3)}(this,function(t,e,n){"use strict";function o(){}function r(t,e){t<c&&(c=t),t>u&&(u=t),e<_&&(_=e),e>f&&(f=e)}function a(t,n,o){var r=n[1][0]-n[0][0],a=n[1][1]-n[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!==i&&t.clipExtent(null),e.geoStream(o,t.stream(g));var p=g.result(),s=Math.min(r/(p[1][0]-p[0][0]),a/(p[1][1]-p[0][1])),l=+n[0][0]+(r-s*(p[1][0]+p[0][0]))/2,c=+n[0][1]+(a-s*(p[1][1]+p[0][1]))/2;return null!==i&&t.clipExtent(i),t.scale(150*s).translate([l,c])}function i(t,e,n){return a(t,[[0,0],e],n)}function p(t){var e=t.length;return{point:function(n,o){for(var r=-1;++r<e;)t[r].point(n,o)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function s(){function t(t){var e=t[0],n=t[1];return u=null,c.point(e,n),u||(_.point(e,n),u)}function o(){return r=s=null,t}var r,s,c,_,u,f=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),g=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),d={point:function(t,e){u=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),o=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.05346&&r<.0897&&o>=-.13388&&o<-.0322?g:f).invert(t)},t.stream=function(t){return r&&s===t?r:r=p([f.stream(s=t),g.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),g.precision(t),o()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),g.scale(e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),n=+t[0],r=+t[1];return c=f.translate(t).clipExtent([[n-.06857*e,r-.1288*e],[n+.13249*e,r+.06*e]]).stream(d),_=g.translate([n+.1*e,r-.094*e]).clipExtent([[n-.1331*e+l,r+.053457*e+l],[n-.0354*e-l,r+.08969*e-l]]).stream(d),o()},t.fitExtent=function(e,n){return a(t,e,n)},t.fitSize=function(e,n){return i(t,e,n)},t.drawCompositionBorders=function(t){var e=f([-14.034675,34.965007]),n=f([-7.4208899,35.536988]),o=f([-7.3148275,33.54359]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(o[0],o[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2700)}var l=1e-6,c=1/0,_=c,u=-c,f=u,g={point:r,lineStart:o,lineEnd:o,polygonStart:o,polygonEnd:o,result:function(){var t=[[c,_],[u,f]];return u=f=-(_=c=1/0),t}};t.geoConicConformalSpain=s,Object.defineProperty(t,"__esModule",{value:!0})});var rApp=rApp||{};rApp.t=function(){var t,e,n=null,o=null;return{e:function(n){!function(){t=rApp.n,rApp.o.t={r:".nav-btn",a:".primary-nav",i:".nav-categories .current",p:".nav-categories",s:".nav-categories .nav-wrapper .category",l:".nav-categories .nav-wrapper ul",c:".nav-locations .current",_:".nav-locations",u:".nav-locations .nav-wrapper .location",f:".nav-locations .nav-wrapper ul",g:"#page-header .brand"},e=rApp.o.t}(),$(e.r).click(function(){$(this).toggleClass("active"),$(e.a).toggleClass("show")}),n()},d:function(n){!function(){t.m||rApp.h()?n():($(e.s).each(function(){var t=$(this);$("a",t).click(function(e){e.preventDefault(),rApp.A.v(t.attr("data-nav-slug"))})}),$(e.u).each(function(){var t=$(this);$("a",t).click(function(e){e.preventDefault(),rApp.A.w(t.attr("data-nav-slug"))})}),$(e.p+", "+e._).click(function(){$(this).toggleClass("open")}),$(e.g).click(function(e){e.preventDefault(),rApp.A.C(t.$,t.k)}),$(document).click(function(t){var n=$(t.target);n.closest($(e.p)).length||$(e.p).removeClass("open"),n.closest($(e._)).length||$(e._).removeClass("open"),n.closest($(e.r)).length||($(e.r).removeClass("active"),$(e.a).removeClass("show"))}),n())}()},S:function(r,a,i){t.m?async.parallel([function(o){$.ajax({url:t.b+"/categories",type:"GET",success:function(t){$(e.s).remove(),t.forEach(function(t){$(e.l).prepend($("<li>").attr("class","category").attr("data-nav-slug",t.slug).append($("<a>").attr("href",rApp.A.P(t.slug,a)).text(t.name))),t.slug===r&&($(e.i).text(t.name),n=t.name)}),o()},error:function(){o(new Error("Error loading Categories"))}})},function(n){$.ajax({url:t.b+"/locations",type:"GET",success:function(t){$(e.u).remove(),t.forEach(function(t){$(e.f).prepend($("<li>").attr("class","location").attr("data-nav-slug",t.slug).append($("<a>").attr("href",rApp.A.P(r,t.slug)).text(t.name))),t.slug===a&&($(e.c).text(t.name),o=t.name)}),n()},error:function(){n(new Error("Error loading Locations"))}})}],function(t){t&&rApp.R(t),i&&i()}):(n=$(e.i).text(),o=$(e.c).text(),i&&i())},M:function(t,r,a){var i=null,p=null;$(e.s).each(function(){var e=$(this),n=$("a",e),o=e.attr("data-nav-slug");n.attr("href",rApp.A.P(o,r)),o===t&&(i=n.text())}),$(e.u).each(function(){var e=$(this),n=$("a",e),o=e.attr("data-nav-slug");n.attr("href",rApp.A.P(t,o)),o===r&&(p=n.text())}),$(e.i).text(i||"-"),$(e.c).text(p||"-"),n=i,o=p,a&&a()},L:function(){return n},T:function(){return o}}}(),(rApp=rApp||{}).D=function(){var t,e,n=null,o=!1,r=function(e,n,o){var r=!1;n?($("html, body").stop().scrollTop(e),o&&o()):$("html, body").stop().animate({scrollTop:e+"px"},{duration:t.q,easing:"swing",always:function(){o&&!r&&(r=!0,o&&o())}})},a=function(n,o,r){var a=!1,i=$(e.j);o?(i.stop().css("margin-top",n),r&&r()):i.stop().animate({"margin-top":n},{duration:t.q,easing:"swing",always:function(){r&&!a&&(a=!0,r&&r())}})},i=function(e,n){var o=rApp.o.I;o.removeClass("ini-view-footer"),o.removeClass("ini-view-map"),o.removeClass("ini-view-full"),t.m?(o.addClass("ini-view-footer"),n&&n()):a($(rApp.o.H).outerHeight()-t.W+"px",e,n)},p=function(e,n){var o=rApp.o.I;o.removeClass("ini-view-footer"),o.removeClass("ini-view-map"),o.removeClass("ini-view-full"),t.m?(o.addClass("ini-view-map"),n&&n()):a(rApp.o.N.height()+"px",e,n)},s=function(e,n){var o=rApp.o.I;o.removeClass("ini-view-footer"),o.removeClass("ini-view-map"),o.removeClass("ini-view-full"),t.m?(o.addClass("ini-view-full"),n&&n()):a("0px",e,n)},l=function(n,o){t.m?o&&o():n?($(e.z).stop().show(),o&&o()):$(e.z).stop().slideDown(t.q,function(){o&&o()})},c=function(n,o){t.m?o&&o():n?($(e.B).stop().show(),o&&o()):$(e.B).stop().fadeIn(t.q,function(){o&&o()})},_=function(n,o){t.m?o&&o():n?($(e.z).stop().hide(),o&&o()):$(e.z).stop().slideUp(t.q,function(){o&&o()})},u=function(n,o){t.m?o&&o():n?($(e.B).stop().hide(),o&&o()):$(e.B).stop().fadeOut(t.q,function(){o&&o()})},f=function(){var e=Modernizr.mq("screen and (min-width: "+t.U.O+"px)");return!e&&t.U.F&&(e=Modernizr.mq("screen and (orientation: landscape)")),!e},g=function(e){var o,r;r=n!==(n=e),"footer"!==(o=1===e?"footer":2===e?"full":"none")&&rApp.o.I.removeClass("view-footer"),"full"!==o&&rApp.o.I.removeClass("view-full"),"none"!==o&&rApp.o.I.removeClass("view-none"),rApp.o.I.hasClass("view-"+o)||rApp.o.I.addClass("view-"+o),1===n&&!f()||2===n||t.m?function(){var t=rApp.A.G(),e=rApp.J.V(t);rApp.X.Z(t,rApp.A.K(),rApp.A.Q(),e)}():(!r&&1===n&&f()||1!==n&&2!==n)&&rApp.X.Y(),function(){r&&f()&&(2===e?rApp.A.tt():rApp.A.et())}()},d=function(n,a,d){var m=f();o=!0,async.parallel([function(o){m?($(e.j).stop().show(),1===n||2===n?($(rApp.o.nt).show(),$(e.ot).show(),async.parallel([function(t){i(a,function(){t()})},function(t){l(a,function(){t()}),c(a)}],function(){o()})):(p(a,function(){_(!0),$(rApp.o.nt).hide(),$(e.ot).hide(),o()}),u(a))):($(rApp.o.nt).show(),$(e.ot).show(),_(!0),u(!0),s(!0,function(){var r=$(e.j);1===n||2===n?a?(r.stop().show(),o()):r.stop().fadeIn(t.rt,function(){o()}):a?(r.stop().hide(),o()):r.stop().fadeOut(t.rt,function(){o()})}))},function(e){m?1===n?r(0,a,function(){e()}):2===n?r($(rApp.o.H).outerHeight()-t.at,a,function(){e()}):r(0,!0,function(){e()}):r(0,!0,function(){e()})}],function(){g(m||1!==n?1===n||2===n?n:null:2),o=!1,d&&d()})},m=function(t,n,o){var r=null;""===n?r="#":n&&(r=rApp.A.P(rApp.A.K(),n)),r?(t.attr("href",r),t.attr("data-slug",n),$(e.it).addClass(o),t.show()):(t.attr("href","#"),t.attr("data-slug",""),$(e.it).removeClass(o),t.hide())},h=function(t){m($(e.pt),t,"view-zoomin")},v=function(t){var n=$(e.st);n.attr("data-slug")!==t&&m(n,t,"view-zoomout")},A=function(){$(e.lt).removeClass("icon-heart-empty"),$(e.lt).addClass("icon-heart")},w=function(){$(e.lt).removeClass("icon-heart"),$(e.lt).addClass("icon-heart-empty")},C=function(){$(e.ct).toggleClass("open"),$(e._t).toggleClass("active"),$(e.ut).toggleClass("active")},y=function(){$(e.ct).removeClass("open"),$(e._t).removeClass("active"),$(e.ut).removeClass("active")};return{e:function(n){!function(){t=rApp.n,rApp.o.D={z:".footer-content .description",j:".results-wrapper",ot:".results-wrapper .section-title",ft:".app-controls .like",ct:".app-controls .share",_t:".app-controls .share-facebook",ut:".app-controls .share-whatsapp",pt:".map-controls .zoom-in",st:".map-controls .zoom-out",it:".map-controls",gt:".footer-content a",dt:".view-back",B:".footer-content .image",mt:".results-wrapper .section-title h1",ht:".footer-content .result-item .reviews",vt:".footer-content .result-item .rank",At:".footer-content .result-item .description .name",wt:".footer-content .result-item .image img",lt:".results-controls .like i"},e=rApp.o.D}(),n()},d:function(r){!function(){t.m||($(e.ft).each(function(){var t=new Hammer.Manager(this);t.add(new Hammer.Tap),t.on("tap",function(){var t=rApp.A.K(),e=rApp.A.G(),n=rApp.J.V(e);t&&e&&n&&n.slug&&(A(),rApp.X.Ct(n.slug),rApp.J.$t(t,e,n.slug,function(t){t&&(w(),rApp.X.yt(n.slug))}))})}),$(e.ct).each(function(){var t=$(this),e=new Hammer.Manager(t.get(0));e.add(new Hammer.Tap),e.on("tap",function(){rApp.St.kt(rApp.A.K(),rApp.A.Q(),rApp.A.G(),null,function(){C()})})}),$(e._t).each(function(){var t=$(this),e=new Hammer.Manager(t.get(0));e.add(new Hammer.Tap),e.on("tap",function(){rApp.St.bt(rApp.A.K(),rApp.A.Q(),rApp.A.G()),y()})}),$(e.ut).each(function(){var t=$(this),e=new Hammer.Manager(t.get(0));e.add(new Hammer.Tap),e.on("tap",function(){rApp.St.xt(rApp.A.K(),rApp.A.Q(),rApp.A.G()),y()})}),function(){var t=new Hammer.Manager($(e.gt).get(0));t.add(new Hammer.Tap),t.on("tap",function(){d(2)})}(),function(){!function(){var t=new Hammer.Manager($(e.dt).get(0));t.add(new Hammer.Tap),t.on("tap",function(){rApp.A.Et()})}(),function(){var t=new Hammer.Manager($(e.ot).get(0));t.add(new Hammer.Tap),t.on("tap",function(){rApp.A.Et()})}()}(),$(e.pt).click(function(t){t.preventDefault(),rApp.A.w($(this).attr("data-slug"))}),$(e.st).click(function(t){t.preventDefault(),rApp.A.w($(this).attr("data-slug"))}))}(),function(){var t=null;rApp.o.N.scroll(function(){o||(rApp.o.N.scrollTop()>0?2!==n&&g(2):2===n&&g(1)),clearInterval(t),t=setTimeout(function(){1===n&&f()&&i()},250)})}(),function(){var t=!1,e=function(o){o>100||d(n,!0,function(){t&&(t=!1,e(o+1))})};rApp.Pt(function(){o?t=!0:e(0)},function(){1===n&&f()&&i()})}(),r()},Rt:function(t,e,n){"region"===t?f()?d(1,e,n):d(2,e,n):d(null,e,n),y()},Mt:f,Lt:h,Tt:v,Dt:function(){var t=$(e.it);h(t.hasClass("view-zoomin")?"":null),v(t.hasClass("view-zoomout")?"":null)},qt:function(t){$(e.mt).text(t||"")},jt:function(n){var o=$(e.wt),r=n&&n.It?n.It:t.Ht;$(e.vt).text(n&&n.Wt?"#"+n.Wt:"-"),$(e.ht).text(n&&n.Nt?rApp.zt(n.Nt):""),$(e.At).text(r),n&&n.slug?rApp.o.I.removeClass("view-empty"):rApp.o.I.addClass("view-empty"),o.attr("src",n&&n.Bt?n.Bt:""),o.attr("alt",r),o.attr("title",r),n&&n.slug&&rApp.J.Ot(rApp.A.K(),rApp.A.G(),n.slug)?A():w()},Ut:function(t){t&&t.slug&&rApp.J.Ot(rApp.A.K(),rApp.A.G(),t.slug)&&A()},Ct:A,yt:w}}(),(rApp=rApp||{}).Ft=function(){var t,e,n=!1,o={Gt:!1,Vt:null,Jt:null,Zt:null,Xt:null,Kt:null,Qt:0,Yt:0,te:0,ee:null,ne:null,oe:null,re:null,ae:null,ie:0,pe:1,se:0,le:0,ce:0,_e:0,ue:0,fe:0,ge:0,de:!0,me:null,he:null,ve:null,Ae:null,we:0,Ce:0,$e:0,ye:0,ke:null,Se:null},r=function(t,e,n){var o=null;return n.forEach(function(n){o||n[t]===e&&(o=n)}),o},a=function(){o.ve&&(o.ve.stop(),o.ve=null)},i=function(t){var e=$(rApp.o.be);t?(e.removeClass("map-none"),e.addClass("map-selected")):(e.removeClass("map-selected"),e.addClass("map-none"))},p=function(){var t=[];return o.pe<16777215&&(t.push(255&o.pe),t.push((65280&o.pe)>>8),t.push((16711680&o.pe)>>16),o.pe+=100),"rgb("+t.join(",")+")"},s=function(e){return e?0:0-t.xe*o.te},l=function(e){return e?o.te*t.Ee:o.Qt+t.xe*o.te},c=function(t,e,n){return isNaN(t)?n:e?n+d3.scaleLinear().domain([-o.te,o.te]).range([-180,180])(2*t):function(){var o,r=s(e),a=l(e);return o=n+t,o<r?r:o>a?a:o}()},_=function(t){return c(t,o.de,o.se)},u=function(t,e){e?o.ae.rotate([t,0]):o.ae.translate([t,o.ce]),function(){o.ee&&o.ee.forEach(function(t){var e;t.Pe&&(e=o.ae(t.Pe.geometry.coordinates))&&(t.Re=e[0]-o.Ce,t.Me=e[1]-o.Ce)})}()},f=function(t){u(t,o.de)},g=function(t){var e,n;o.de?(e=t<0?-1:1,0!==(n=(n=Math.abs(t)+180)%360-180)&&(n*=e),o.se=n):o.se=t},d=function(){var t,e=s(o.de),n=l(o.de),r=n-e+o.Qt;t=o.de?r/2-o.Qt/2:d3.scaleLinear().domain([n,e]).range([0,n-e])(o.se),t=Math.round(t),$("div",o.Zt).width(r),o.Ae=t,o.we+=o.Ae-o.Zt.scrollLeft(),o.Zt.scrollLeft(t)},m=function(e,n,o,r,a){e.Le&&e.Te&&e.Te.De&&(o.beginPath(),r(e.Le),o.fillStyle=a?e.qe:e.Te.De,o.fill(),a||(o.strokeStyle=n?t.je:e.Te.slug?t.Ie:t.He,o.lineWidth=1,o.stroke()))},h=function(e,n,r,a,i){e.Pe&&e.Te&&(r.beginPath(),a(e.Pe),r.fillStyle=i?e.qe:n?t.We:e.Te.slug?t.Ne:t.ze,r.fill(),i||e.Te.Be&&r.drawImage(e.Te.Be,e.Re,e.Me,o.ye,o.ye))},v=function(e,n,r){e.fillStyle=t.Oe,e.fillRect(0,0,o.Qt,o.Yt),n&&(o.ee.forEach(function(t){o.me!==t&&m(t,!1,e,n,r)}),o.me&&m(o.me,!0,e,n,r),o.ee.forEach(function(t){o.me!==t&&h(t,!1,e,n,r)}),o.me&&h(o.me,!0,e,n,r))},A=function(){n&&o.Vt.addClass("loading")},w=function(){n?o.Vt.removeClass("loading"):(n=!0,$(e.Ue).stop().fadeOut(t.Fe))},C=function(){o.oe&&(v(o.Xt,o.oe),t.m||w())},y=function(e,n,r,i,p){var s=0,l=!1;if(!o.ae)return C(),void(p&&p());a(),function(){o.Gt||(!function(){var t=o.Qt/2;u(t,!1),o.de||(o.se=t)}(),function(){e||(e=o.he)}(),o.Gt=!0)}(),function(){var n,a,p,l=o.te<o.Qt?(o.Qt-o.te)/2:0,c=Math.round(t.Ge+l),_=Math.round(o.Qt-(rApp.D.Mt()?0:Math.max(t.Ve-l,0))-t.Ge-l),u=o.te<o.Qt?o.te:o.Qt-2*l;if(e&&e.Le)if(o.de?(n=d3.geoBounds(e.Le),a=Math.round(o.ae([n[0][0],n[0][1]])[0]),(p=Math.round(o.ae([n[1][0],n[1][1]])[0]))<a&&(r?a-=o.te:p+=o.te)):(n=o.oe.bounds(e.Le),a=Math.round(n[0][0]),p=Math.round(n[1][0])),i)s=u/2-(a+(p-a)/2);else{if(a>=c&&p<=_)return;s=p<=_||p-a>=_-c?c-a:-1*(p-_)}}(),function(){var e;0!==s?(o.de||(l=!0),e=_(s),n?o.ve=$({foo:_(0)}).animate({foo:e},{duration:t.Je,easing:"swing",step:function(t){isNaN(t)||(f(t),v(o.Xt,o.oe))},always:function(t){g(t.tweens[0].now),p&&p()}}):(f(e),g(e),C(),p&&p())):p&&p()}(),function(){var t;l||(t=c(0,!1,o.de?o.Qt/2:o.se),u(t,!1),o.de||(o.se=t),C())}()},k=function(e,n,r){var a,i,p,s,l;a=rApp.o.N.height()-t.Ze,i=Math.round(a+a*o.ue),p=Math.round(a*o._e),s=$(rApp.o.H),l=Math.round(s.width()),o.Vt.width(l),o.Vt.height(i),o.Jt.width(l),o.Jt.height(i),o.Zt.width(l),o.Zt.height(a-p+t.Xe),o.Vt.prop({width:l,height:i}),o.Jt.prop({width:l,height:i}),o.Vt.css("margin-top",p+"px"),o.Zt.css("top",t.Ze+p+"px"),o.Qt=l,o.Yt=i,o.te=i*o.le,o.ce=i/2,o.ae&&o.ae.scale(i*o.ie),function(){o.ye=Math.min(i/25,t.Ke),o.$e=o.ye/2+1,o.Ce=o.ye/2,o.oe&&o.re&&(o.oe.pointRadius(o.$e),o.re.pointRadius(o.$e))}(),y(o.me,e,!1,n,function(){d(),r&&r()})},S=function(t){rApp.D.Lt(t&&t.Qe?t.Qe:null),rApp.D.Tt(o.ke?o.ke:null),rApp.D.qt(t?t.It:null),t&&rApp.D.jt(rApp.J.V(t.slug))},b=function(t,e,n){o.ee=[],o.he=null,A(),t.regions.forEach(function(e){var n={mapId:e.mapId,slug:e.slug,Le:null,qe:p(),Pe:null,Re:0,Me:0,Qe:e.sonLocation,It:e.name,Te:null};o.ee.push(n),e.slug===t.defaultRegion&&(o.he=n)}),async.series([function(n){$.getJSON(t.mapData,function(a){var i,p;$(rApp.o.H).attr("data-map-location")===e?(i=topojson.feature(a,a.objects.centroids),p=topojson.feature(a,a.objects.regions),"spain"===t.projection?(o.ae=d3.geoConicConformalSpain(),o.ie=o.ae.scale()/500,o.le=1.92,o.de=!1,o._e=0,o.ue=0,o.fe=630,o.ge=0):(o.ae=d3.geoEquirectangular(),o.ie=1/Math.PI,o.le=2,o.de=!0,o._e=-.03,o.ue=.27,o.fe=800,o.ge=19),o.oe=d3.geoPath().projection(o.ae).context(o.Xt),o.re=d3.geoPath().projection(o.ae).context(o.Kt),o.pe=1,o.se=0,o.Gt=!1,o.ve=null,o.ke=t.father?t.father:null,p.features.forEach(function(t){var e=r("mapId",t.id,o.ee);e&&(e.Le=t,function(){var t=null;i.features.forEach(function(n){t||n.id===e.mapId&&(t=n)}),e.Pe=t}())}),n()):n(new Error("Map loading interrupted"))}).fail(function(){n(new Error("Error loading Map"))})}],function(t){t&&rApp.R(t),n&&n()})},x=function(t,e,n,r){o.ne={};var a=$(rApp.o.H);t.firsts.forEach(function(e){o.ne[e.regionSlug]={It:e.name,Bt:e.picture?t.picturesPath+e.picture:null,Nt:e.likes,Ye:e.newLikes,slug:e.slug,De:e.color,tn:e.timerCurrent}}),o.Se=t.timerGoal,async.each(t.firsts,function(r,i){var p,s=!1,l=o.ne[r.regionSlug];if(l){if(!r.picture)return l.Be=null,void i();(p=$("<img>",{src:t.thumbsPath+r.picture})).on("load",function(){s||(a.attr("data-map-category")===e&&a.attr("data-map-location")===n?(s=!0,l.Be=p.get(0),i()):i(new Error("Map loading interrupted")))}).each(function(){if(this.complete){if(s)return;s=!0,l.Be=p.get(0),i()}}).on("error",function(){s||(a.attr("data-map-category")===e&&a.attr("data-map-location")===n?(s=!0,l.Be=null,rApp.R(new Error("Error loading Pic")),i()):i(new Error("Map loading interrupted")))})}else i()},function(t){if(t)return rApp.R(t),void(r&&r());o.ee.forEach(function(t){var e=o.ne[t.slug];t.Te=e||null}),r&&r()})};return{e:function(n){!function(){t=rApp.n,rApp.o.Ft={Ue:".map-preview",en:".map-preview img.preview",nn:".map-preview .wrapper"},e=rApp.o.Ft}(),function(){o.Vt=$("<canvas>").attr("class","map-interactive"),o.Jt=$("<canvas>"),o.Xt=o.Vt.get(0).getContext("2d"),o.Kt=o.Jt.get(0).getContext("2d"),o.Zt=$("<div>").attr("class","scroll").append($("<div>")),t.m||($(rApp.o.H).append(o.Vt),$(rApp.o.H).append(o.Jt),$(rApp.o.H).append(o.Zt),o.Jt.hide(),function(){var t=null;o.Zt.scroll(function(){var e,n=Math.round(o.Ae-$(this).scrollLeft());0!==n&&(clearInterval(t),t=setTimeout(function(){d()},250),o.ae&&(e=_(n),f(e),v(o.Xt,o.oe),g(e)),o.Ae=Math.round($(this).scrollLeft()))})}())}(),rApp.Pt(function(){k(!1,!1)}),n()},d:function(e){!function(){var e;t.m||((e=new Hammer.Manager(o.Zt.get(0))).add(new Hammer.Tap),e.on("tap",function(t){var e,n,r=null;e=t.center.x-o.Vt.offset().left,n=t.center.y-o.Vt.offset().top+rApp.o.N.scrollTop(),a(),v(o.Kt,o.re,!0),function(){var t,a,i=!1;for(t=0;t<100&&!i;t++)255!==(a=o.Kt.getImageData(e-t,n,1,1).data)[0]||255!==a[1]||255!==a[2]?o.ee.forEach(function(t){r||t.qe==="rgb("+a[0]+","+a[1]+","+a[2]+")"&&(r=t,i=!0)}):(r=null,i=!0)}(),function(){var t=r?r.slug:null;(t||rApp.A.G())&&(t===rApp.A.G()?(o.me=null,C(),d(),rApp.A.rn(null),S(null)):(o.me=r,rApp.D.Dt(),y(r,!0,e<o.Qt/2,!1,function(){d(),rApp.A.rn(t),S(r)})))}()}))}(),function(){var e,n;t.m||((e=new Hammer.Manager($("div",o.Zt).get(0),{inputClass:Hammer.MouseInput})).add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL})),e.on("panmove",function(t){o.Zt.scrollLeft(n-t.deltaX+o.we)}),e.on("panstart",function(){n=o.Ae,o.we=0,rApp.o.I.css("user-select","none"),a()}),e.on("panend",function(t){rApp.o.I.css("user-select","auto"),function(){var e=200*t.velocityX,n=Math.min(Math.max(6*Math.abs(e),500),1e3);Math.abs(e)<.2||(o.ve=$({foo:_(0)}).animate({foo:_(e)},{duration:n,easing:"easeOutCirc",step:function(t){isNaN(t)||(f(t),v(o.Xt,o.oe))},always:function(t){g(t.tweens[0].now)}}))}()}))}(),function(){var t=$("#rAppDataMap"),n=$("#rAppDataFirsts"),o=rApp.A.K(),r=rApp.A.Q();0!==t.length&&0!==n.length?b(JSON.parse(t.html()),r,function(){var t=JSON.parse(n.html());rApp.in.an(t.timerGoal),rApp.in.pn(t.notices,!0),x(t,o,r,function(){d(),k(!1,!0,e)})}):e()}()},Z:function(n,a,p,s,l){var c=null,_=null,u=$(rApp.o.H),f=u.attr("data-map-category"),g=u.attr("data-map-location"),d=u.attr("data-map-region");u.attr("data-map-category",n),u.attr("data-map-location",a),u.attr("data-map-region",p),i(p?!0:!1),async.parallel([function(e){n!==f||a!==g?$.ajax({url:t.b+"/categories/"+n+"/locations/"+a+"/firsts",type:"GET",success:function(o){u.attr("data-map-category")===n&&u.attr("data-map-location")===a?(c=o,function(){t.m&&$("#rAppData").append($("<script>").attr("id","rAppDataFirsts").attr("type","application/json").html(JSON.stringify(o)))}(),e()):e(new Error("Map loading interrupted"))},error:function(){e(new Error("Error loading Map"))}}):e()},function(e){a!==g?$.ajax({url:t.b+"/locations/"+a,type:"POST",success:function(n){u.attr("data-map-location")===a?(_=n,function(){t.m&&$("#rAppData").append($("<script>").attr("id","rAppDataMap").attr("type","application/json").html(JSON.stringify(n)))}(),e()):e(new Error("Map loading interrupted"))},error:function(){e(new Error("Error loading Map"))}}):e()}],function(i){if(i)return rApp.R(i),void(l&&l());async.series([function(t){_?b(_,a,function(){t()}):t()},function(t){c?x(c,n,a,function(){t()}):t()},function(t){o.me=r("slug",rApp.A.G(),o.ee),t()},function(n){var r=$(e.en),a=rApp.t.L()+" in "+(o.me?o.me.It+" - ":"")+rApp.t.T()+" map";t.m?(r.attr("alt",a),r.attr("title",a),$(e.nn).append($("<noscript>").text('<img alt="'+a+'" title="'+a+'" src="'+t.sn+'#SPA_PREVIEW_PATH#" width="'+t.Ue.Qt+'" height="'+t.Ue.Yt+'">')),n()):n()},function(t){c?(rApp.in.an(c.timerGoal),rApp.in.pn(c.notices,!1),rApp.cn.ln(c.timerInitial,o.me?o.me.Te.tn:c.timerCurrent),t()):t()}],function(){n===f&&a===g&&p===d||S(o.me),k(!s,s,function(){!function(){t.m&&$("#spaPreview").attr("data-path",t._n+n+"/"+a+"/"+(p?p+"-":"")+a+"-"+n+"-").attr("src",o.Vt.get(0).toDataURL("image/jpeg")).attr("data-crop-y1",o.ge).attr("data-crop-y2",t.Ue.Yt+o.ge).attr("data-blur-width",t.Ue.Qt/10).attr("data-blur-height",t.Ue.Yt/10).attr("data-width",t.Ue.Qt).attr("data-height",o.fe)}(),l&&l()})})})},un:function(t){var e;return t&&o.ne?(e=o.ne[t],e?{slug:e.slug,It:e.It,Bt:e.Bt,Nt:e.Nt,Ye:e.Ye,Wt:e.slug?1:null}:(rApp.R(new Error("No Footer First data")),null)):null},fn:function(){var t=o.me;return t&&t.Te?{It:t.It}:null},gn:function(t){var e;return o.ne?!(!(e=o.ne[t])||!e.slug):null},dn:function(){var t=!1;if(o.ee)return o.ee.forEach(function(e){e.Te&&e.Te.slug&&(t=!0)}),t},mn:function(){return o.Se}}}(),(rApp=rApp||{}).X=function(){var t,e,n,o=function(t){t.addClass("liked")},r=function(t){t.removeClass("liked")},a=function(t,e,n,a){var i=$(".controls-cq.like",t),p=!1;!function(){var t=rApp.J.V(n);t&&t.slug===a&&(p=!0)}(),o(i),p&&rApp.D.Ct(),rApp.J.$t(e,n,a,function(t){t&&(r(i),p&&rApp.D.yt())})},i=function(t,e,n){var r=t.attr("data-slug");rApp.J.Ot(e,n,r)&&o($(".controls-cq.like",t))},p=function(e){var n=$(rApp.o.nt),o=n.attr("data-region-category"),r=n.attr("data-region-location"),i=n.attr("data-region-region"),p=e.attr("data-slug");t.m||o&&i&&p&&(function(){var t=new Hammer.Manager(e.get(0));t.add(new Hammer.Tap({taps:2})),t.on("tap",function(){a(e,o,i,p)})}(),function(){var t=new Hammer.Manager($(".controls-cq.like",e).get(0));t.add(new Hammer.Tap),t.on("tap",function(){a(e,o,i,p)})}(),function(){var t=$(".controls-cq.share",e),n=new Hammer.Manager(t.get(0));n.add(new Hammer.Tap),n.on("tap",function(){t.hasClass("open")?(t.removeClass("open"),t.removeClass("opening"),t.removeClass("icon-spin"),$(".controls-cq.share-facebook",e).removeClass("active"),$(".controls-cq.share-whatsapp",e).removeClass("active")):t.hasClass("open")||t.hasClass("opening")||(t.removeClass("open"),t.addClass("opening"),t.addClass("icon-spin"),rApp.St.kt(o,r,i,p,function(){t.removeClass("opening"),t.addClass("open"),t.removeClass("icon-spin"),$(".controls-cq.share-facebook",e).addClass("active"),$(".controls-cq.share-whatsapp",e).addClass("active")}))})}(),function(){var t=$(".controls-cq.share-facebook",e),n=new Hammer.Manager(t.get(0));n.add(new Hammer.Tap),n.on("tap",function(){rApp.St.bt(o,r,i,p),$(".controls-cq.share",e).removeClass("open"),t.removeClass("active"),$(".controls-cq.share-whatsapp",e).removeClass("active")})}(),function(){var t=$(".controls-cq.share-whatsapp",e),n=new Hammer.Manager(t.get(0));n.add(new Hammer.Tap),n.on("tap",function(){rApp.St.xt(o,r,i,p),$(".controls-cq.share",e).removeClass("open"),$(".controls-cq.share-facebook",e).removeClass("active"),t.removeClass("active")})}())},s=function(e,n,o,r,a,p,s,l,c,_,u,f){var g,d;return g=$("<div>").attr("class","item").attr("data-slug",a),o&&p&&g.append($("<figure>").attr("class","circle featured rank"+(p<4?" rank-"+p:"")).text("#"+p)),d=$("<div>").attr("class","image"),f?d.append($("<img>").attr("src",e).attr("alt",n).attr("title",n)):d.append($("<img>").attr("data-original",e).attr("alt",n).attr("title",n).attr("class","lazy")),t.m&&!f&&d.append($("<noscript>").text('<img src="'+e+'" alt="'+n+'" title="'+n+'">')),g.append($("<div>").attr("class","wrapper").append(d).append($("<div>").attr("class","description").append($(u?"<h2>":"<h3>").append($("<a>").text(n))).append($("<span>").attr("class","likes").text(rApp.zt(o)+" "+(1===o?"Like":"Likes")+" ("+rApp.zt(r)+")")).append($("<span>").attr("class","controls-cq like")).append($("<span>").attr("class","controls-cq share")).append($("<span>").attr("class","controls-cq share-facebook")).append($("<span>").attr("class","controls-cq share-whatsapp")))),i(g,s,c),_.append(g),g};return{e:function(o){!function(){t=rApp.n,rApp.o.X={hn:".results-content .image img.lazy"},e=rApp.o.X}(),function(){t.m||(n=new LazyLoad({threshold:t.X.vn,elements_selector:e.hn,callback_set:function(t){var e=$(t);e.removeClass("lazy"),e.removeAttr("data-original")}}))}(),o()},d:function(t){$(".item",$(rApp.o.nt)).each(function(){i($(this),rApp.A.K(),rApp.A.G()),p($(this))}),t()},Z:function(e,o,r,a){var i=$(rApp.o.nt),l=0;e&&o&&(i.attr("data-region-region")===e&&i.attr("data-region-category")===o||(i.empty(),i.attr("data-region-region",e),i.attr("data-region-location",r),i.attr("data-region-category",o),a&&a.slug&&(p(s(a.Bt,a.It,a.Nt,a.Ye,a.slug,a.Wt,o,0,e,i,!0,!0)),l++),rApp.o.I.addClass("region-loading"),$.ajax({url:t.b+"/categories/"+o+"/regions/"+e,type:"GET",success:function(r){i.attr("data-region-region")===e&&i.attr("data-region-category")===o&&function(){var c,_;for(c=0;c<r.ranking.length;c++)_=r.ranking[c],a&&a.slug===_.slug||(p(s(r.picturesPath+_.picture,_.name,_.likes,_.newLikes,_.slug,c+1,o,0,e,i,!1,t.m&&l<t.X.An)),l++);t.m||n.update()}()},error:function(){rApp.R(new Error("Error loading Region"))},complete:function(){i.attr("data-region-region")===e&&i.attr("data-region-category")===o&&rApp.o.I.removeClass("region-loading")}})))},Y:function(){var t=$(rApp.o.nt);t.empty(),t.removeAttr("data-region-region"),t.removeAttr("data-region-category")},Ct:function(t){$(".item",$(rApp.o.nt)).each(function(){var e=$(this);t===e.attr("data-slug")&&o($(".controls-cq.like",e))})},yt:function(t){$(".item",$(rApp.o.nt)).each(function(){var e=$(this);t===e.attr("data-slug")&&r($(".controls-cq.like",e))})}}}(),(rApp=rApp||{}).A=function(){var t,e,n=[],o=!1,r=!1,a=1,i=null,p=null,s=null,l=null,c=null,_=null,u=function(e,n,o,r){return r?"/"+e+"/"+n+"/"+o+"/"+r:o?"/"+e+"/"+n+"/"+o:n!==t.k?"/"+e+"/"+n:e!==t.$?"/"+e:"/"},f=function(){rApp.o.N.get(0).history.back()},g=function(t,e,n){setTimeout(function(){t?e?page.show(t,null,!1):page.replace(t,null,null,!1):f(),n&&n()},10)},d=function(t){r=!0,async.series([function(e){var n,o,r=u(p,s),i=u(p,s,l,c),f=i+"#"+_;t&&a--,p&&s&&l&&c&&_?(n=3,o=f):p&&s&&l&&c?(n=2,o=i):p&&s&&l&&_?(n=3,r=u(p,s),i=u(p,s,l),o=f):p&&s&&l?(n=2,o=i):(n=1,o=r),2===n&&1===a?g(r,!1,function(){g(o,!0,function(){a=2,e()})}):3===n&&1===a?g(r,!1,function(){g(i,!0,function(){g(o,!0,function(){a=3,e()})})}):3===n&&2===a?g(i,!1,function(){g(o,!0,function(){a=3,e()})}):1===n&&2===a?g(null,!1,function(){a=1,e()}):1===n&&3===a?g(null,!1,function(){g(null,!1,function(){a=1,e()})}):2===n&&3===a?g(null,!1,function(){a=2,e()}):g(o,!1,function(){e()})}],function(){setTimeout(function(){r=!1},10)})},m=function(){var t=u(p,s,l,c);t!==i&&(i=t,ga("set","page",t),ga("send","pageview"))},h=function(t,o,r,a,i,f){if(t&&o&&r&&a){$(e.wn).hide(),$(e.Cn).show();var g=function(n){rApp.St.kt(t,o,r,a,function(i){if(i)return $(e.Cn).hide(),$(e.wn).show(),void n();document.location.href=u(t,o,r,a),n()})};p=t,s=o,l=r,c=a,_=null,m(),n.push(function(t){g(t)}),f&&f()}else f&&f()},v=function(e,a,i,u,f,g){if(r)g&&g();else{var h=function(n){async.parallel([function(n){rApp.Ft.Z(e,a,i,!o,function(){t.m&&rApp.cn.$n(e,a,i,u),rApp.D.Ut(rApp.J.V(i)),n()})},function(t){i?rApp.D.Rt("region",!o,t):(rApp.D.Lt(null),rApp.D.Rt(null,!o,t))}],function(){n()})};p=e,s=a,l=i,c=u,_=null,m(),d(f),o?rApp.t.M(e,a,function(){h(function(){g&&g()})}):(n.push(function(t){async.parallel([function(t){rApp.J.yn(e,i,u,function(){t()})},function(t){rApp.t.S(e,a,function(){t()})}],function(){h(t)})}),g&&g())}};return{e:function(n){!function(){t=rApp.n,rApp.o.A={wn:"#page-content .container.info",Cn:"#page-content .spinner"},e=rApp.o.A}(),function(){var e=!1,a=rApp.h()?h:v,i=function(){return!!o};page("/:categorySlug/:locationSlug/:regionSlug/:profileSlug",function(t){a(t.params.categorySlug,t.params.locationSlug,t.params.regionSlug,t.params.profileSlug,i(),function(){e||(e=!0,n())})}),page("/:categorySlug/:locationSlug/:regionSlug",function(t){a(t.params.categorySlug,t.params.locationSlug,t.params.regionSlug,null,i(),function(){e||(e=!0,n())})}),page("/:categorySlug/:locationSlug",function(t){a(t.params.categorySlug,t.params.locationSlug,null,null,i(),function(){e||(e=!0,n())})}),page("/:categorySlug",function(o){a(o.params.categorySlug,t.k,null,null,i(),function(){e||(e=!0,n())})}),page("/",function(){a(t.$,t.k,null,null,i(),function(){e||(e=!0,n())})}),page("*",function(){!function(){r||(p=null,s=null,l=null,c=null,_=null,m(),d(i()))}(),e||(e=!0,n())}),page({click:!1})}()},d:function(t){async.eachSeries(n,function(t,e){t(e)},function(){n=[],o=!0,t()})},Q:function(){return s},K:function(){return p},G:function(){return l},kn:function(){return c},v:function(t){v(t,s,null,null,!1)},w:function(t){v(p,t,null,null,!1)},rn:function(t){v(p,s,t,null,!1)},C:function(t,e,n,o){v(t,e,n,o,!1)},P:u,tt:function(){r||"ranking"!==_&&(_="ranking",d(!1))},et:function(){r||_&&(_=null,d(!1))},Et:f}}(),(rApp=rApp||{}).J=function(){var t,e,n=null,o=function(t){n={slug:t.slug,It:t.name,Bt:t.picture,Nt:t.likes,Ye:t.newLikes,Wt:t.rank}};return{e:function(n){!function(){t=rApp.n,rApp.o.J={},e=rApp.o.J}(),function(){var t=$("#rAppDataCustomProfile");0!==t.length&&o(JSON.parse(t.html()))}(),n()},d:function(t){t()},V:function(t){return rApp.A.kn()?n:rApp.Ft.un(t)},yn:function(e,r,a,i){var p=null;async.series([function(o){t.m?n?o():e&&r&&a?$.ajax({url:t.b+"/categories/"+e+"/regions/"+r+"/profiles/"+a,type:"GET",success:function(t){p=t,$("#rAppData").append($("<script>").attr("id","rAppDataCustomProfile").attr("type","application/json").html(JSON.stringify(t))),o()},error:function(){o(new Error("Error loading Profile"))}}):o():o()},function(t){p?(o(p),t()):t()}],function(t){t&&rApp.R(t),i&&i()})},$t:function(e,n,o,r){var a=e+","+n+","+o;rApp.Sn(a)||$.ajax({url:t.b+"/categories/"+e+"/regions/"+n+"/profiles/"+o+"/likes",type:"POST",success:function(t){rApp.bn(a,"1",t.expiration),r(!1)},error:function(){r(!0)}})},Ot:function(t,e,n){return!!rApp.Sn(t+","+e+","+n)}}}(),(rApp=rApp||{}).cn=function(){var t,e,n=null,o=null,r=function(t,e,n,o){var r="og"===n||"fb"===n||"article"===n?"property":"name";$("meta["+r+"="+(n?n+"\\:":"")+t+(o?"\\:"+o:"")+"]").remove(),$("head").prepend("<meta "+r+'="'+(n?n+":":"")+t+(o?":"+o:"")+'" content="'+e+'">')},a=function(e,n,o,a,i,p,s,l){var c=p?p.toISOString():null,_=s?s.toISOString():null,u=t.sn+"#SPA_PREVIEW_PATH#",f=t.Ue.Qt,g=t.Ue.Yt;!function(){var r={"@context":"http://schema.org","@type":"NewsArticle",mainEntityOfPage:o,headline:e,image:{"@type":"ImageObject",url:u,height:g,width:f}};c&&(r.datePublished=c),_&&(r.dateModified=_),r.author={"@type":"Person",name:t.It},r.description=n,$("#rAppDataStructured").remove(),$("head").append($("<script>").attr("id","rAppDataStructured").attr("type","application/ld+json").html(JSON.stringify(r)))}(),r("image",u,"twitter"),r("description",n,"twitter"),r("title",e,"twitter"),r("url",a,"twitter"),r("card","summary_large_image","twitter"),r("app_id",t.xn,"fb"),r("description",n,"og"),r("image",g,"og","height"),r("image",f,"og","width"),r("image",u,"og"),r("url",a,"og"),r("title",e,"og"),r("site_name",t.It,"og"),r("type","article","og"),$("link[rel=canonical]").remove(),$("head").prepend('<link rel="canonical" href="'+i+'"/>'),_&&r("modified_time",_,"article"),c&&r("published_time",c,"article"),_&&r("date",_),r("description",n),r("title",e),$(document).prop("title",e+" | "+t.It),r("robots",(l?"INDEX":"NOINDEX")+",FOLLOW,NOODP")};return{e:function(n){!function(){t=rApp.n,rApp.o.cn={},e=rApp.o.cn}(),n()},d:function(t){t()},$n:function(e,r,i,p){var s,l,c,_,u,f,g,d,m="",h="",v=null,A=null;s=rApp.J.V(i),l=rApp.Ft.fn(),c=rApp.t.L(),_=rApp.t.T(),s&&l&&s.It&&l.It?m=s.It+(s.Wt?" is #"+s.Wt:"")+" in "+l.It:c&&l&&l.It?m=c+" in "+l.It:c&&_&&(m=c+" in "+_),c&&s&&l&&s.It&&l.It?h=s.It+" "+(s.Wt?"is the #"+s.Wt:"could be the")+" "+c+" in "+l.It+(s.Nt?" with "+rApp.zt(s.Nt)+" likes":"")+".":c&&l&&l.It?h="Vote now for the "+c+" in "+l.It+".":c&&_&&(h="Vote now for the "+c+" in "+_+"."),u=t.En+rApp.A.P(e,r,i),f=t.En+rApp.A.P(e,r,i,p),g=rApp.St.P(f),n&&(v=new Date(1e3*n)),o&&(A=new Date(1e3*o)),d=!p&&(i?rApp.Ft.gn(i):rApp.Ft.dn()),a(m,h,f,g,u,v,A,d)},ln:function(t,e){n=t,o=e},Pn:function(t){r("prerender-status-code",t)}}}(),(rApp=rApp||{}).in=function(){var t,e,n=null,o=[],r=function(){var t,e,o,r,a="";if(n)return r=Math.max(n-Math.round((new Date).getTime()/1e3),0),t=Math.floor(r/3600),e=Math.floor((r-3600*t)/60),o=r-3600*t-60*e,t||e||o?(t&&(a+=t+" "+(1===t?"hour":"hours")+", "),(t||e)&&(a+=e+" "+(1===e?"minute":"minutes")+", "),a+=o+" "+(1===o?"second":"seconds")):a="Counting likes ...",a},a=function(n,o,r){var a=$(e.Rn).width(),i=n.outerWidth(),p=i<=a,s=Math.round(a-i),l=Math.max(Math.abs(Math.round(s/t.Mn)),1);async.series([function(t){o&&"object"==typeof o?(n.click(function(t){t.preventDefault(),rApp.A.C(o.Ln,o.Tn,o.Dn)}),t()):t()},function(e){p?setTimeout(function(){e()},t.qn):e()},function(e){p?e():setTimeout(function(){n.animate({left:s+"px"},{duration:l,easing:"linear",always:function(){setTimeout(function(){e()},t.qn/2)}})},t.qn/2)}],function(){r&&r()})},i=function(n,o,r,a,i){var p=null;async.series([function(n){a?n():$(e.jn).fadeOut(t.In,function(){n()})},function(t){var a=$(e.Hn);a.empty(),a.on("marquee-appened","a",function(){a.off("marquee-appened"),t()}),p=$("<a>").attr("class",r).text(n),function(){var t;o&&("object"==typeof o?t=rApp.A.P(o.Ln,o.Tn,o.Dn):"/"!==(t=o).charAt(0)&&p.attr("target","_blank"),p.attr("href",t))}(),p.appendTo(a).trigger("marquee-appened")}],function(){i&&i(p)})};return{e:function(n){!function(){t=rApp.n,rApp.o.in={Rn:".marquee",Hn:".marquee-wrapper",jn:".marquee-wrapper > a"},e=rApp.o.in}(),n()},d:function(n){!function(){t.m?n():async.series([function(t){o[0]?a($(e.jn),o[0].Wn,function(){t()}):t()}],function(){var t=!0;setInterval(function(){t&&(t=!1,async.series([function(t){i(r(),null,"timer",!1,function(e){var n;n=setInterval(function(){e&&e.text(r())},1e3),a(e,null,function(){clearInterval(n),t()})})},function(t){var e=null;!function(){o.forEach(function(t){e||t.Nn||(e=t)}),e||(o.forEach(function(t){t.Nn=!1}),o[0]&&(e=o[0]))}(),e?(e.Nn=!0,i(e.zn,e.Wn,"notice",!1,function(n){a(n,e.Wn,function(){t()})})):t()}],function(){t=!0}))},500),n()})}()},an:function(t){n=t},pn:function(e,n){o=[],e.forEach(function(t,e){var r,a;2===t.type?(r=t.f1+" remains in #"+t.f4+" in "+t.f3,a={Ln:t.f6,Tn:t.f7,Dn:t.f8,Bn:t.f9}):3===t.type?(r=t.f1+t.f2+t.f3,a=t.f4):(r=t.f1+" is now #"+t.f4+" in "+t.f3+" !",a={Ln:t.f6,Tn:t.f7,Dn:t.f8,Bn:t.f9}),o.push({zn:r,Wn:a,Nn:!(!n||0!==e)})}),t.m&&o[0]&&i(o[0].zn,o[0].Wn,"notice",!0)}}}(),(rApp=rApp||{}).St=function(){var t,e,n=function(t){return t+"?t="+rApp.Ft.mn()},o=function(t,e,n){var o,r,a=null,i="window";"whatsapp"===t?(o="whatsapp://send?text=",n&&(o+=n),o+=" "+encodeURI(e),i="redirect"):"facebook"===t&&(o="http://www.facebook.com/sharer/sharer.php?u="+e,a=900,r=500),"redirect"===i?document.location.href=o:a?window.open(o,t,"toolbar=0,status=0,width="+a+",height="+r):window.open(o,t)},r=function(e,n,o,r,a){$.ajax({url:t.b+"/categories/"+e+"/locations/"+n+"/regions/"+o+"/profiles/"+r+"/shares",type:"POST",success:function(){a(!1)},error:function(){a(!0)}})},a=function(e,r,a,i,p){var s=n(t.En+rApp.A.P(r,a,i,p));r&&a&&o(e,s,"")};return{e:function(n){!function(){t=rApp.n,rApp.o.St={},e=rApp.o.St}(),n()},d:function(t){t()},bt:function(t,e,n,o){a("facebook",t,e,n,o)},xt:function(t,e,n,o){a("whatsapp",t,e,n,o)},kt:function(t,e,n,o,a){o?r(t,e,n,o,a):a(!1)},P:n}}(),function(){var t={appUrl:"http://coonquer.com",apiUrl:"http://api.coonquer.com/v1",facebookAppId:"251792518617277",defaultCategory:"coonquer",defaultLocation:"the-world",bucketUrl:"http://tfs.coonquer.com/"};(rApp=rApp||{}).n={En:t.appUrl,b:t.apiUrl,xn:t.facebookAppId,$:t.defaultCategory,k:t.defaultLocation,_n:"previews/",sn:t.bucketUrl,Ht:"<Not coonquered>",W:90,q:300,rt:150,Fe:150,Mn:.09,qn:1e4,In:300,U:{O:768,F:!0},Ve:350,Ge:50,X:{vn:300,An:3},xe:.1,Je:300,Ke:40,at:43,Ze:70,Xe:50,Ee:20,It:"Coonquer",Ie:"#fff",je:"#000",He:"#ccc",Ne:"#fff",ze:"#eee",We:"#000",Oe:"#fff",Ue:{Qt:1200,Yt:630},On:!1,m:/ Prerender /.test(navigator.userAgent)};var e=function(){rApp.o={N:$(window),I:$("body"),be:".hero-section",nt:".results-content",H:".map-wrapper"},rApp.Un=rApp.o.I.hasClass("homepage")?1:2,function(){var t=rApp.o.N.width(),e=rApp.o.N.height(),n=[],o=[];rApp.Pt=function(t,e){n.push(t),e&&o.push(e)},rApp.o.N.resize(function(){var r=rApp.o.N.width(),a=rApp.o.N.height();o.forEach(function(t){t()}),t===r&&e===a||(t=r,e=a,n.forEach(function(t){t()}))})}(),rApp.zt=function(t){return null===t||void 0===t?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},rApp.R=function(t){rApp.n.On?console.log(t.message):"undefined"!=typeof Raven&&Raven.captureException(t),rApp.n.m&&rApp.cn.Pn("500")},rApp.bn=function(t,e,n){var o;n&&(o=n-(new Date).getTime()/1e3,(o=Math.round(o/60))<1||lscache.set(t,e,o))},rApp.Sn=function(t){return lscache.get(t)},rApp.h=function(){return 2===rApp.Un}};$(function(){var t;e(),t=1===rApp.Un,async.parallel([function(t){rApp.t.e(t)},function(e){t?rApp.D.e(e):e()},function(e){t?rApp.Ft.e(e):e()},function(e){t?rApp.X.e(e):e()},function(t){rApp.A.e(t)},function(e){t?rApp.J.e(e):e()},function(e){t?rApp.cn.e(e):e()},function(e){t?rApp.in.e(e):e()},function(t){rApp.St.e(t)}],function(){async.series([function(t){rApp.t.d(t)},function(e){t?rApp.D.d(e):e()},function(e){t?rApp.Ft.d(e):e()},function(e){t?rApp.X.d(e):e()},function(t){rApp.A.d(t)},function(e){t?rApp.J.d(e):e()},function(e){t?rApp.cn.d(e):e()},function(e){t?rApp.in.d(e):e()},function(t){rApp.St.d(t)}],function(){setTimeout(function(){window.prerenderReady=!0},10)})})}),function(){var t=!1,e=function(){t||(t=!0)};$(window).on("load",function(){e()}),setTimeout(function(){e()},5e3)}()}();