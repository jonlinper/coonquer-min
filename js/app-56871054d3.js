!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-geo"),require("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-path"],e):e(t.d3=t.d3||{},t.d3,t.d3)}(this,function(t,e,n){"use strict";function o(){}function r(t,e){t<c&&(c=t),t>u&&(u=t),e<_&&(_=e),e>f&&(f=e)}function a(t,n,o){var r=n[1][0]-n[0][0],a=n[1][1]-n[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!==i&&t.clipExtent(null),e.geoStream(o,t.stream(g));var p=g.result(),s=Math.min(r/(p[1][0]-p[0][0]),a/(p[1][1]-p[0][1])),l=+n[0][0]+(r-s*(p[1][0]+p[0][0]))/2,c=+n[0][1]+(a-s*(p[1][1]+p[0][1]))/2;return null!==i&&t.clipExtent(i),t.scale(150*s).translate([l,c])}function i(t,e,n){return a(t,[[0,0],e],n)}function p(t){var e=t.length;return{point:function(n,o){for(var r=-1;++r<e;)t[r].point(n,o)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function s(){function t(t){var e=t[0],n=t[1];return u=null,c.point(e,n),u||(_.point(e,n),u)}function o(){return r=s=null,t}var r,s,c,_,u,f=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),g=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),d={point:function(t,e){u=[t,e]}};return t.invert=function(t){var e=f.scale(),n=f.translate(),o=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.05346&&r<.0897&&o>=-.13388&&o<-.0322?g:f).invert(t)},t.stream=function(t){return r&&s===t?r:r=p([f.stream(s=t),g.stream(t)])},t.precision=function(t){return arguments.length?(f.precision(t),g.precision(t),o()):f.precision()},t.scale=function(e){return arguments.length?(f.scale(e),g.scale(e),t.translate(f.translate())):f.scale()},t.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),n=+t[0],r=+t[1];return c=f.translate(t).clipExtent([[n-.06857*e,r-.1288*e],[n+.13249*e,r+.06*e]]).stream(d),_=g.translate([n+.1*e,r-.094*e]).clipExtent([[n-.1331*e+l,r+.053457*e+l],[n-.0354*e-l,r+.08969*e-l]]).stream(d),o()},t.fitExtent=function(e,n){return a(t,e,n)},t.fitSize=function(e,n){return i(t,e,n)},t.drawCompositionBorders=function(t){var e=f([-14.034675,34.965007]),n=f([-7.4208899,35.536988]),o=f([-7.3148275,33.54359]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(o[0],o[1])},t.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2700)}var l=1e-6,c=1/0,_=c,u=-c,f=u,g={point:r,lineStart:o,lineEnd:o,polygonStart:o,polygonEnd:o,result:function(){var t=[[c,_],[u,f]];return u=f=-(_=c=1/0),t}};t.geoConicConformalSpain=s,Object.defineProperty(t,"__esModule",{value:!0})});var rApp=rApp||{};rApp.t=function(){var t,e,n=null,o=null;return{e:function(n){!function(){t=rApp.n,rApp.o.t={r:".nav-categories .current",a:".nav-categories .nav-wrapper .category",i:".nav-categories .nav-wrapper ul",p:".nav-locations .current",s:".nav-locations .nav-wrapper .location",l:".nav-locations .nav-wrapper ul",c:"#page-header .brand"},e=rApp.o.t}(),$(".nav-btn").click(function(){$(this).toggleClass("active"),$(".primary-nav").toggleClass("show")}),n()},_:function(n){!function(){t.u||rApp.f()?n():($(e.a).each(function(){var t=$(this);$("a",t).click(function(e){e.preventDefault(),rApp.d.g(t.attr("data-nav-slug"))})}),$(e.s).each(function(){var t=$(this);$("a",t).click(function(e){e.preventDefault(),rApp.d.m(t.attr("data-nav-slug"))})}),$(e.c).click(function(e){e.preventDefault(),rApp.d.h(t.v,t.A)}),n())}()},w:function(r,a,i){t.u?async.parallel([function(o){$.ajax({url:t.$+"/categories",type:"GET",success:function(t){$(e.a).remove(),t.forEach(function(t){$(e.i).prepend($("<li>").attr("class","category").attr("data-nav-slug",t.slug).append($("<a>").attr("href",rApp.d.C(t.slug,a)).text(t.name))),t.slug===r&&($(e.r).text(t.name),n=t.name)}),o()},error:function(){o(new Error("Error loading Categories"))}})},function(n){$.ajax({url:t.$+"/locations",type:"GET",success:function(t){$(e.s).remove(),t.forEach(function(t){$(e.l).prepend($("<li>").attr("class","location").attr("data-nav-slug",t.slug).append($("<a>").attr("href",rApp.d.C(r,t.slug)).text(t.name))),t.slug===a&&($(e.p).text(t.name),o=t.name)}),n()},error:function(){n(new Error("Error loading Locations"))}})}],function(t){t&&rApp.k(t),i&&i()}):(n=$(e.r).text(),o=$(e.p).text(),i&&i())},S:function(t,r,a){var i=null,p=null;$(e.a).each(function(){var e=$(this),n=$("a",e),o=e.attr("data-nav-slug");n.attr("href",rApp.d.C(o,r)),o===t&&(i=n.text())}),$(e.s).each(function(){var e=$(this),n=$("a",e),o=e.attr("data-nav-slug");n.attr("href",rApp.d.C(t,o)),o===r&&(p=n.text())}),$(e.r).text(i||"-"),$(e.p).text(p||"-"),n=i,o=p,a&&a()},b:function(){return n},P:function(){return o}}}(),(rApp=rApp||{}).R=function(){var t,e,n=null,o=!1,r=function(e,n,o){var r=!1;n?($("html, body").stop().scrollTop(e),o&&o()):$("html, body").stop().animate({scrollTop:e+"px"},{duration:t.L,easing:"swing",always:function(){o&&!r&&(r=!0,o&&o())}})},a=function(n,o,r){var a=!1,i=$(e.M);o?(i.stop().css("margin-top",n),r&&r()):i.stop().animate({"margin-top":n},{duration:t.L,easing:"swing",always:function(){r&&!a&&(a=!0,r&&r())}})},i=function(e,n){var o=rApp.o.T;o.removeClass("ini-view-footer"),o.removeClass("ini-view-map"),o.removeClass("ini-view-full"),t.u?(o.addClass("ini-view-footer"),n&&n()):a($(rApp.o.D).outerHeight()-t.q+"px",e,n)},p=function(e,n){var o=rApp.o.T;o.removeClass("ini-view-footer"),o.removeClass("ini-view-map"),o.removeClass("ini-view-full"),t.u?(o.addClass("ini-view-map"),n&&n()):a(rApp.o.j.height()+"px",e,n)},s=function(e,n){var o=rApp.o.T;o.removeClass("ini-view-footer"),o.removeClass("ini-view-map"),o.removeClass("ini-view-full"),t.u?(o.addClass("ini-view-full"),n&&n()):a("0px",e,n)},l=function(n,o){n||t.u?($(e.I).stop().show(),o&&o()):$(e.I).stop().slideDown(t.L,function(){o&&o()})},c=function(n,o){n||t.u?($(e.H).stop().show(),o&&o()):$(e.H).stop().fadeIn(t.L,function(){o&&o()})},_=function(n,o){n||t.u?($(e.I).stop().hide(),o&&o()):$(e.I).stop().slideUp(t.L,function(){o&&o()})},u=function(n,o){n||t.u?($(e.H).stop().hide(),o&&o()):$(e.H).stop().fadeOut(t.L,function(){o&&o()})},f=function(){var e=Modernizr.mq("screen and (min-width: "+t.N.W+"px)");return!e&&t.N.z&&(e=Modernizr.mq("screen and (orientation: landscape)")),!e},g=function(e){var o,r;r=n!==(n=e),"footer"!==(o=1===e?"footer":2===e?"full":"none")&&rApp.o.T.removeClass("view-footer"),"full"!==o&&rApp.o.T.removeClass("view-full"),"none"!==o&&rApp.o.T.removeClass("view-none"),rApp.o.T.hasClass("view-"+o)||rApp.o.T.addClass("view-"+o),1===n&&!f()||2===n||t.u?function(){var t=rApp.d.B(),e=rApp.U.O(t);rApp.G.F(t,rApp.d.V(),rApp.d.J(),e)}():(!r&&1===n&&f()||1!==n&&2!==n)&&rApp.G.Z(),function(){r&&f()&&(2===e?rApp.d.X():rApp.d.K())}()},d=function(n,a,d){var m=f();o=!0,async.parallel([function(o){m?($(e.M).stop().show(),1===n||2===n?($(rApp.o.Q).show(),$(e.Y).show(),async.parallel([function(t){i(a,function(){t()})},function(t){l(a,function(){t()}),c(a)}],function(){o()})):(p(a,function(){_(!0),$(rApp.o.Q).hide(),$(e.Y).hide(),o()}),u(a))):($(rApp.o.Q).show(),$(e.Y).show(),_(!0),u(!0),s(!0,function(){var r=$(e.M);1===n||2===n?a?(r.stop().show(),o()):r.stop().fadeIn(t.tt,function(){o()}):a?(r.stop().hide(),o()):r.stop().fadeOut(t.tt,function(){o()})}))},function(e){m?1===n?r(0,a,function(){e()}):2===n?r($(rApp.o.D).outerHeight()-t.et,a,function(){e()}):r(0,!0,function(){e()}):r(0,!0,function(){e()})}],function(){g(m||1!==n?1===n||2===n?n:null:2),o=!1,d&&d()})},m=function(t,n,o){var r=null;""===n?r="#":n&&(r=rApp.d.C(rApp.d.V(),n)),r?(t.attr("href",r),t.attr("data-slug",n),$(e.nt).addClass(o),t.show()):(t.attr("href","#"),t.attr("data-slug",""),$(e.nt).removeClass(o),t.hide())},h=function(t){m($(e.ot),t,"view-zoomin")},v=function(t){var n=$(e.rt);n.attr("data-slug")!==t&&m(n,t,"view-zoomout")},A=function(){$(e.at).removeClass("icon-heart-empty"),$(e.at).addClass("icon-heart")},w=function(){$(e.at).removeClass("icon-heart"),$(e.at).addClass("icon-heart-empty")},C=function(){$(e.it).toggleClass("open"),$(e.pt).toggleClass("active"),$(e.st).toggleClass("active")},y=function(){$(e.it).removeClass("open"),$(e.pt).removeClass("active"),$(e.st).removeClass("active")};return{e:function(n){!function(){t=rApp.n,rApp.o.R={I:".footer-content .description",M:".results-wrapper",Y:".results-wrapper .section-title",lt:".app-controls .like",it:".app-controls .share",pt:".app-controls .share-facebook",st:".app-controls .share-whatsapp",ot:".map-controls .zoom-in",rt:".map-controls .zoom-out",nt:".map-controls",ct:".footer-content a",_t:".view-back",H:".footer-content .image",ut:".results-wrapper .section-title h1",ft:".footer-content .result-item .reviews",gt:".footer-content .result-item .rank",dt:".footer-content .result-item .description .name",mt:".footer-content .result-item .image img",at:".results-controls .like i"},e=rApp.o.R}(),n()},_:function(r){!function(){t.u||($(e.lt).each(function(){var t=new Hammer.Manager(this);t.add(new Hammer.Tap),t.on("tap",function(){var t=rApp.d.V(),e=rApp.d.B(),n=rApp.U.O(e);t&&e&&n&&n.slug&&(A(),rApp.G.ht(n.slug),rApp.U.vt(t,e,n.slug,function(t){t&&(w(),rApp.G.At(n.slug))}))})}),$(e.it).each(function(){var t=$(this),e=new Hammer.Manager(t.get(0));e.add(new Hammer.Tap),e.on("tap",function(){rApp.$t.wt(rApp.d.V(),rApp.d.J(),rApp.d.B(),null,function(){C()})})}),$(e.pt).each(function(){var t=$(this),e=new Hammer.Manager(t.get(0));e.add(new Hammer.Tap),e.on("tap",function(){rApp.$t.Ct(rApp.d.V(),rApp.d.J(),rApp.d.B()),y()})}),$(e.st).each(function(){var t=$(this),e=new Hammer.Manager(t.get(0));e.add(new Hammer.Tap),e.on("tap",function(){rApp.$t.yt(rApp.d.V(),rApp.d.J(),rApp.d.B()),y()})}),function(){var t=new Hammer.Manager($(e.ct).get(0));t.add(new Hammer.Tap),t.on("tap",function(){d(2)})}(),function(){!function(){var t=new Hammer.Manager($(e._t).get(0));t.add(new Hammer.Tap),t.on("tap",function(){rApp.d.kt()})}(),function(){var t=new Hammer.Manager($(e.Y).get(0));t.add(new Hammer.Tap),t.on("tap",function(){rApp.d.kt()})}()}(),$(e.ot).click(function(t){t.preventDefault(),rApp.d.m($(this).attr("data-slug"))}),$(e.rt).click(function(t){t.preventDefault(),rApp.d.m($(this).attr("data-slug"))}))}(),function(){var t=null;rApp.o.j.scroll(function(){o||(rApp.o.j.scrollTop()>0?2!==n&&g(2):2===n&&g(1)),clearInterval(t),t=setTimeout(function(){1===n&&f()&&i()},250)})}(),function(){var t=!1,e=function(o){o>100||d(n,!0,function(){t&&(t=!1,e(o+1))})};rApp.St(function(){o?t=!0:e(0)},function(){1===n&&f()&&i()})}(),r()},bt:function(t,e,n){"region"===t?f()?d(1,e,n):d(2,e,n):d(null,e,n),y()},xt:f,Et:h,Pt:v,Rt:function(){var t=$(e.nt);h(t.hasClass("view-zoomin")?"":null),v(t.hasClass("view-zoomout")?"":null)},Lt:function(t){$(e.ut).text(t||"")},Mt:function(n){var o=$(e.mt),r=n&&n.Tt?n.Tt:t.Dt;$(e.gt).text(n&&n.qt?"#"+n.qt:"-"),$(e.ft).text(n&&n.jt?rApp.It(n.jt):""),$(e.dt).text(r),n&&n.slug?rApp.o.T.removeClass("view-empty"):rApp.o.T.addClass("view-empty"),o.attr("src",n&&n.Ht?n.Ht:""),o.attr("alt",r),o.attr("title",r),n&&n.slug&&rApp.U.Wt(rApp.d.V(),rApp.d.B(),n.slug)?A():w()},Nt:function(t){t&&t.slug&&rApp.U.Wt(rApp.d.V(),rApp.d.B(),t.slug)&&A()},ht:A,At:w}}(),(rApp=rApp||{}).zt=function(){var t,e,n=!1,o={Bt:!1,Ot:null,Ut:null,Ft:null,Gt:null,Vt:null,Jt:0,Zt:0,Xt:0,Kt:null,Qt:null,Yt:null,te:null,ee:null,ne:0,oe:1,re:0,ae:0,ie:0,pe:0,se:0,le:0,ce:0,_e:!0,ue:null,fe:null,ge:null,de:null,me:0,he:0,ve:0,Ae:0,we:null,$e:null},r=function(t,e,n){var o=null;return n.forEach(function(n){o||n[t]===e&&(o=n)}),o},a=function(){o.ge&&(o.ge.stop(),o.ge=null)},i=function(t){var e=$(rApp.o.Ce);t?(e.removeClass("map-none"),e.addClass("map-selected")):(e.removeClass("map-selected"),e.addClass("map-none"))},p=function(){var t=[];return o.oe<16777215&&(t.push(255&o.oe),t.push((65280&o.oe)>>8),t.push((16711680&o.oe)>>16),o.oe+=100),"rgb("+t.join(",")+")"},s=function(e){return e?0:0-t.ye*o.Xt},l=function(e){return e?o.Xt*t.ke:o.Jt+t.ye*o.Xt},c=function(t,e,n){return isNaN(t)?n:e?n+d3.scaleLinear().domain([-o.Xt,o.Xt]).range([-180,180])(2*t):function(){var o,r=s(e),a=l(e);return o=n+t,o<r?r:o>a?a:o}()},_=function(t){return c(t,o._e,o.re)},u=function(t,e){e?o.ee.rotate([t,0]):o.ee.translate([t,o.ie]),function(){o.Kt&&o.Kt.forEach(function(t){var e;t.Se&&(e=o.ee(t.Se.geometry.coordinates))&&(t.be=e[0]-o.he,t.xe=e[1]-o.he)})}()},f=function(t){u(t,o._e)},g=function(t){var e,n;o._e?(e=t<0?-1:1,0!==(n=(n=Math.abs(t)+180)%360-180)&&(n*=e),o.re=n):o.re=t},d=function(){var t,e=s(o._e),n=l(o._e),r=n-e+o.Jt;t=o._e?r/2-o.Jt/2:d3.scaleLinear().domain([n,e]).range([0,n-e])(o.re),t=Math.round(t),$("div",o.Ft).width(r),o.de=t,o.me+=o.de-o.Ft.scrollLeft(),o.Ft.scrollLeft(t)},m=function(e,n,o,r,a){e.Ee&&e.Pe&&e.Pe.Re&&(o.beginPath(),r(e.Ee),o.fillStyle=a?e.Le:e.Pe.Re,o.fill(),a||(o.strokeStyle=n?t.Me:e.Pe.slug?t.Te:t.De,o.lineWidth=1,o.stroke()))},h=function(e,n,r,a,i){e.Se&&e.Pe&&(r.beginPath(),a(e.Se),r.fillStyle=i?e.Le:n?t.qe:e.Pe.slug?t.je:t.Ie,r.fill(),i||e.Pe.He&&r.drawImage(e.Pe.He,e.be,e.xe,o.Ae,o.Ae))},v=function(e,n,r){e.fillStyle=t.We,e.fillRect(0,0,o.Jt,o.Zt),n&&(o.Kt.forEach(function(t){o.ue!==t&&m(t,!1,e,n,r)}),o.ue&&m(o.ue,!0,e,n,r),o.Kt.forEach(function(t){o.ue!==t&&h(t,!1,e,n,r)}),o.ue&&h(o.ue,!0,e,n,r))},A=function(){n&&o.Ot.addClass("loading")},w=function(){n?o.Ot.removeClass("loading"):(n=!0,$(e.Ne).stop().fadeOut(t.ze))},C=function(){o.Yt&&(v(o.Gt,o.Yt),t.u||w())},y=function(e,n,r,i,p){var s=0,l=!1;if(!o.ee)return C(),void(p&&p());a(),function(){o.Bt||(!function(){var t=o.Jt/2;u(t,!1),o._e||(o.re=t)}(),function(){e||(e=o.fe)}(),o.Bt=!0)}(),function(){var n,a,p,l=o.Xt<o.Jt?(o.Jt-o.Xt)/2:0,c=Math.round(t.Be+l),_=Math.round(o.Jt-(rApp.R.xt()?0:Math.max(t.Oe-l,0))-t.Be-l),u=o.Xt<o.Jt?o.Xt:o.Jt-2*l;if(e&&e.Ee)if(o._e?(n=d3.geoBounds(e.Ee),a=Math.round(o.ee([n[0][0],n[0][1]])[0]),(p=Math.round(o.ee([n[1][0],n[1][1]])[0]))<a&&(r?a-=o.Xt:p+=o.Xt)):(n=o.Yt.bounds(e.Ee),a=Math.round(n[0][0]),p=Math.round(n[1][0])),i)s=u/2-(a+(p-a)/2);else{if(a>=c&&p<=_)return;s=p<=_||p-a>=_-c?c-a:-1*(p-_)}}(),function(){var e;0!==s?(o._e||(l=!0),e=_(s),n?o.ge=$({foo:_(0)}).animate({foo:e},{duration:t.Ue,easing:"swing",step:function(t){isNaN(t)||(f(t),v(o.Gt,o.Yt))},always:function(t){g(t.tweens[0].now),p&&p()}}):(f(e),g(e),C(),p&&p())):p&&p()}(),function(){var t;l||(t=c(0,!1,o._e?o.Jt/2:o.re),u(t,!1),o._e||(o.re=t),C())}()},k=function(e,n,r){var a,i,p,s,l;a=rApp.o.j.height()-t.Fe,i=Math.round(a+a*o.se),p=Math.round(a*o.pe),s=$(rApp.o.D),l=Math.round(s.width()),o.Ot.width(l),o.Ot.height(i),o.Ut.width(l),o.Ut.height(i),o.Ft.width(l),o.Ft.height(a-p+t.Ge),o.Ot.prop({width:l,height:i}),o.Ut.prop({width:l,height:i}),o.Ot.css("margin-top",p+"px"),o.Ft.css("top",t.Fe+p+"px"),o.Jt=l,o.Zt=i,o.Xt=i*o.ae,o.ie=i/2,o.ee&&o.ee.scale(i*o.ne),function(){o.Ae=Math.min(i/25,t.Ve),o.ve=o.Ae/2+1,o.he=o.Ae/2,o.Yt&&o.te&&(o.Yt.pointRadius(o.ve),o.te.pointRadius(o.ve))}(),y(o.ue,e,!1,n,function(){d(),r&&r()})},S=function(t){rApp.R.Et(t&&t.Je?t.Je:null),rApp.R.Pt(o.we?o.we:null),rApp.R.Lt(t?t.Tt:null),t&&rApp.R.Mt(rApp.U.O(t.slug))},b=function(t,e,n){o.Kt=[],o.fe=null,A(),t.regions.forEach(function(e){var n={mapId:e.mapId,slug:e.slug,Ee:null,Le:p(),Se:null,be:0,xe:0,Je:e.sonLocation,Tt:e.name,Pe:null};o.Kt.push(n),e.slug===t.defaultRegion&&(o.fe=n)}),async.series([function(n){$.getJSON(t.mapData,function(a){var i,p;$(rApp.o.D).attr("data-map-location")===e?(i=topojson.feature(a,a.objects.centroids),p=topojson.feature(a,a.objects.regions),"spain"===t.projection?(o.ee=d3.geoConicConformalSpain(),o.ne=o.ee.scale()/500,o.ae=1.92,o._e=!1,o.pe=0,o.se=0,o.le=630,o.ce=0):(o.ee=d3.geoEquirectangular(),o.ne=1/Math.PI,o.ae=2,o._e=!0,o.pe=-.03,o.se=.27,o.le=800,o.ce=19),o.Yt=d3.geoPath().projection(o.ee).context(o.Gt),o.te=d3.geoPath().projection(o.ee).context(o.Vt),o.oe=1,o.re=0,o.Bt=!1,o.ge=null,o.we=t.father?t.father:null,p.features.forEach(function(t){var e=r("mapId",t.id,o.Kt);e&&(e.Ee=t,function(){var t=null;i.features.forEach(function(n){t||n.id===e.mapId&&(t=n)}),e.Se=t}())}),n()):n(new Error("Map loading interrupted"))}).fail(function(){n(new Error("Error loading Map"))})}],function(t){t&&rApp.k(t),n&&n()})},x=function(t,e,n,r){o.Qt={};var a=$(rApp.o.D);t.firsts.forEach(function(e){o.Qt[e.regionSlug]={Tt:e.name,Ht:e.picture?t.picturesPath+e.picture:null,jt:e.likes,Ze:e.newLikes,slug:e.slug,Re:e.color,Xe:e.timerCurrent}}),o.$e=t.timerGoal,async.each(t.firsts,function(r,i){var p,s=!1,l=o.Qt[r.regionSlug];if(l){if(!r.picture)return l.He=null,void i();(p=$("<img>",{src:t.thumbsPath+r.picture})).on("load",function(){s||(a.attr("data-map-category")===e&&a.attr("data-map-location")===n?(s=!0,l.He=p.get(0),i()):i(new Error("Map loading interrupted")))}).each(function(){if(this.complete){if(s)return;s=!0,l.He=p.get(0),i()}}).on("error",function(){s||(a.attr("data-map-category")===e&&a.attr("data-map-location")===n?(s=!0,l.He=null,rApp.k(new Error("Error loading Pic")),i()):i(new Error("Map loading interrupted")))})}else i()},function(t){if(t)return rApp.k(t),void(r&&r());o.Kt.forEach(function(t){var e=o.Qt[t.slug];t.Pe=e||null}),r&&r()})};return{e:function(n){!function(){t=rApp.n,rApp.o.zt={Ne:".map-preview",Ke:".map-preview img.preview",Qe:".map-preview .wrapper"},e=rApp.o.zt}(),function(){o.Ot=$("<canvas>").attr("class","map-interactive"),o.Ut=$("<canvas>"),o.Gt=o.Ot.get(0).getContext("2d"),o.Vt=o.Ut.get(0).getContext("2d"),o.Ft=$("<div>").attr("class","scroll").append($("<div>")),t.u||($(rApp.o.D).append(o.Ot),$(rApp.o.D).append(o.Ut),$(rApp.o.D).append(o.Ft),o.Ut.hide(),function(){var t=null;o.Ft.scroll(function(){var e,n=Math.round(o.de-$(this).scrollLeft());0!==n&&(clearInterval(t),t=setTimeout(function(){d()},250),o.ee&&(e=_(n),f(e),v(o.Gt,o.Yt),g(e)),o.de=Math.round($(this).scrollLeft()))})}())}(),rApp.St(function(){k(!1,!1)}),n()},_:function(e){!function(){var e;t.u||((e=new Hammer.Manager(o.Ft.get(0))).add(new Hammer.Tap),e.on("tap",function(t){var e,n,r=null;e=t.center.x-o.Ot.offset().left,n=t.center.y-o.Ot.offset().top+rApp.o.j.scrollTop(),a(),v(o.Vt,o.te,!0),function(){var t,a,i=!1;for(t=0;t<100&&!i;t++)255!==(a=o.Vt.getImageData(e-t,n,1,1).data)[0]||255!==a[1]||255!==a[2]?o.Kt.forEach(function(t){r||t.Le==="rgb("+a[0]+","+a[1]+","+a[2]+")"&&(r=t,i=!0)}):(r=null,i=!0)}(),function(){var t=r?r.slug:null;(t||rApp.d.B())&&(t===rApp.d.B()?(o.ue=null,C(),d(),rApp.d.Ye(null),S(null)):(o.ue=r,rApp.R.Rt(),y(r,!0,e<o.Jt/2,!1,function(){d(),rApp.d.Ye(t),S(r)})))}()}))}(),function(){var e,n;t.u||((e=new Hammer.Manager($("div",o.Ft).get(0))).add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL})),e.on("panmove",function(t){"mouse"===t.pointerType&&o.Ft.scrollLeft(n-t.deltaX+o.me)}),e.on("panstart",function(t){"mouse"===t.pointerType&&(n=o.de,o.me=0,rApp.o.T.css("user-select","none"),a())}),e.on("panend",function(t){"mouse"===t.pointerType&&(rApp.o.T.css("user-select","auto"),function(){var e=200*t.velocityX,n=Math.min(Math.max(6*Math.abs(e),500),1e3);Math.abs(e)<.2||(o.ge=$({foo:_(0)}).animate({foo:_(e)},{duration:n,easing:"easeOutCirc",step:function(t){isNaN(t)||(f(t),v(o.Gt,o.Yt))},always:function(t){g(t.tweens[0].now)}}))}())}))}(),function(){var t=$("#rAppDataMap"),n=$("#rAppDataFirsts"),o=rApp.d.V(),r=rApp.d.J();0!==t.length&&0!==n.length?b(JSON.parse(t.html()),r,function(){var t=JSON.parse(n.html());rApp.en.tn(t.timerGoal),rApp.en.nn(t.notices,!0),x(t,o,r,function(){d(),k(!1,!0,e)})}):e()}()},F:function(n,a,p,s,l){var c=null,_=null,u=$(rApp.o.D),f=u.attr("data-map-category"),g=u.attr("data-map-location"),d=u.attr("data-map-region");u.attr("data-map-category",n),u.attr("data-map-location",a),u.attr("data-map-region",p),i(p?!0:!1),async.parallel([function(e){n!==f||a!==g?$.ajax({url:t.$+"/categories/"+n+"/locations/"+a+"/firsts",type:"GET",success:function(o){u.attr("data-map-category")===n&&u.attr("data-map-location")===a?(c=o,function(){t.u&&$("#rAppData").append($("<script>").attr("id","rAppDataFirsts").attr("type","application/json").html(JSON.stringify(o)))}(),e()):e(new Error("Map loading interrupted"))},error:function(){e(new Error("Error loading Map"))}}):e()},function(e){a!==g?$.ajax({url:t.$+"/locations/"+a,type:"POST",success:function(n){u.attr("data-map-location")===a?(_=n,function(){t.u&&$("#rAppData").append($("<script>").attr("id","rAppDataMap").attr("type","application/json").html(JSON.stringify(n)))}(),e()):e(new Error("Map loading interrupted"))},error:function(){e(new Error("Error loading Map"))}}):e()}],function(i){if(i)return rApp.k(i),void(l&&l());async.series([function(t){_?b(_,a,function(){t()}):t()},function(t){c?x(c,n,a,function(){t()}):t()},function(t){o.ue=r("slug",rApp.d.B(),o.Kt),t()},function(n){var r=$(e.Ke),a=rApp.t.b()+" in "+(o.ue?o.ue.Tt+" - ":"")+rApp.t.P()+" map";t.u?(r.attr("alt",a),r.attr("title",a),$(e.Qe).append($("<noscript>").text('<img alt="'+a+'" title="'+a+'" src="'+t.rn+'#SPA_PREVIEW_PATH#" width="'+t.Ne.Jt+'" height="'+t.Ne.Zt+'">')),n()):n()},function(t){c?(rApp.en.tn(c.timerGoal),rApp.en.nn(c.notices,!1),rApp.in.an(c.timerInitial,o.ue?o.ue.Pe.Xe:c.timerCurrent),t()):t()}],function(){n===f&&a===g&&p===d||S(o.ue),k(!s,s,function(){!function(){t.u&&$("#spaPreview").attr("data-path",t.pn+n+"/"+a+"/"+(p?p+"-":"")+a+"-"+n+"-").attr("src",o.Ot.get(0).toDataURL("image/jpeg")).attr("data-crop-y1",o.ce).attr("data-crop-y2",t.Ne.Zt+o.ce).attr("data-blur-width",t.Ne.Jt/10).attr("data-blur-height",t.Ne.Zt/10).attr("data-width",t.Ne.Jt).attr("data-height",o.le)}(),l&&l()})})})},sn:function(t){var e;return t&&o.Qt?(e=o.Qt[t],e?{slug:e.slug,Tt:e.Tt,Ht:e.Ht,jt:e.jt,Ze:e.Ze,qt:e.slug?1:null}:(rApp.k(new Error("No Footer First data")),null)):null},ln:function(){var t=o.ue;return t&&t.Pe?{Tt:t.Tt}:null},cn:function(t){var e;return o.Qt?!(!(e=o.Qt[t])||!e.slug):null},_n:function(){var t=!1;if(o.Kt)return o.Kt.forEach(function(e){e.Pe&&e.Pe.slug&&(t=!0)}),t},un:function(){return o.$e}}}(),(rApp=rApp||{}).G=function(){var t,e,n,o=function(t){t.addClass("liked")},r=function(t){t.removeClass("liked")},a=function(t,e,n,a){var i=$(".controls-cq.like",t),p=!1;!function(){var t=rApp.U.O(n);t&&t.slug===a&&(p=!0)}(),o(i),p&&rApp.R.ht(),rApp.U.vt(e,n,a,function(t){t&&(r(i),p&&rApp.R.At())})},i=function(t,e,n){var r=t.attr("data-slug");rApp.U.Wt(e,n,r)&&o($(".controls-cq.like",t))},p=function(e){var n=$(rApp.o.Q),o=n.attr("data-region-category"),r=n.attr("data-region-location"),i=n.attr("data-region-region"),p=e.attr("data-slug");t.u||o&&i&&p&&(function(){var t=new Hammer.Manager(e.get(0));t.add(new Hammer.Tap({taps:2})),t.on("tap",function(){a(e,o,i,p)})}(),function(){var t=new Hammer.Manager($(".controls-cq.like",e).get(0));t.add(new Hammer.Tap),t.on("tap",function(){a(e,o,i,p)})}(),function(){var t=$(".controls-cq.share",e),n=new Hammer.Manager(t.get(0));n.add(new Hammer.Tap),n.on("tap",function(){t.hasClass("open")?(t.removeClass("open"),t.removeClass("opening"),t.removeClass("icon-spin"),$(".controls-cq.share-facebook",e).removeClass("active"),$(".controls-cq.share-whatsapp",e).removeClass("active")):t.hasClass("open")||t.hasClass("opening")||(t.removeClass("open"),t.addClass("opening"),t.addClass("icon-spin"),rApp.$t.wt(o,r,i,p,function(){t.removeClass("opening"),t.addClass("open"),t.removeClass("icon-spin"),$(".controls-cq.share-facebook",e).addClass("active"),$(".controls-cq.share-whatsapp",e).addClass("active")}))})}(),function(){var t=$(".controls-cq.share-facebook",e),n=new Hammer.Manager(t.get(0));n.add(new Hammer.Tap),n.on("tap",function(){rApp.$t.Ct(o,r,i,p),$(".controls-cq.share",e).removeClass("open"),t.removeClass("active"),$(".controls-cq.share-whatsapp",e).removeClass("active")})}(),function(){var t=$(".controls-cq.share-whatsapp",e),n=new Hammer.Manager(t.get(0));n.add(new Hammer.Tap),n.on("tap",function(){rApp.$t.yt(o,r,i,p),$(".controls-cq.share",e).removeClass("open"),$(".controls-cq.share-facebook",e).removeClass("active"),t.removeClass("active")})}())},s=function(e,n,o,r,a,p,s,l,c,_,u,f){var g,d;return g=$("<div>").attr("class","item").attr("data-slug",a),o&&p&&g.append($("<figure>").attr("class","circle featured rank"+(p<4?" rank-"+p:"")).text("#"+p)),d=$("<div>").attr("class","image"),f?d.append($("<img>").attr("src",e).attr("alt",n).attr("title",n)):d.append($("<img>").attr("data-original",e).attr("alt",n).attr("title",n).attr("class","lazy")),t.u&&!f&&d.append($("<noscript>").text('<img src="'+e+'" alt="'+n+'" title="'+n+'">')),g.append($("<div>").attr("class","wrapper").append(d).append($("<div>").attr("class","description").append($(u?"<h2>":"<h3>").append($("<a>").text(n))).append($("<span>").attr("class","likes").text(rApp.It(o)+" "+(1===o?"Like":"Likes")+" ("+rApp.It(r)+")")).append($("<span>").attr("class","controls-cq like")).append($("<span>").attr("class","controls-cq share")).append($("<span>").attr("class","controls-cq share-facebook")).append($("<span>").attr("class","controls-cq share-whatsapp")))),i(g,s,c),_.append(g),g};return{e:function(o){!function(){t=rApp.n,rApp.o.G={fn:".results-content .image img.lazy"},e=rApp.o.G}(),function(){t.u||(n=new LazyLoad({threshold:t.G.gn,elements_selector:e.fn,callback_set:function(t){var e=$(t);e.removeClass("lazy"),e.removeAttr("data-original")}}))}(),o()},_:function(t){$(".item",$(rApp.o.Q)).each(function(){i($(this),rApp.d.V(),rApp.d.B()),p($(this))}),t()},F:function(e,o,r,a){var i=$(rApp.o.Q),l=0;e&&o&&(i.attr("data-region-region")===e&&i.attr("data-region-category")===o||(i.empty(),i.attr("data-region-region",e),i.attr("data-region-location",r),i.attr("data-region-category",o),a&&a.slug&&(p(s(a.Ht,a.Tt,a.jt,a.Ze,a.slug,a.qt,o,0,e,i,!0,!0)),l++),rApp.o.T.addClass("region-loading"),$.ajax({url:t.$+"/categories/"+o+"/regions/"+e,type:"GET",success:function(r){i.attr("data-region-region")===e&&i.attr("data-region-category")===o&&function(){var c,_;for(c=0;c<r.ranking.length;c++)_=r.ranking[c],a&&a.slug===_.slug||(p(s(r.picturesPath+_.picture,_.name,_.likes,_.newLikes,_.slug,c+1,o,0,e,i,!1,t.u&&l<t.G.dn)),l++);t.u||n.update()}()},error:function(){rApp.k(new Error("Error loading Region"))},complete:function(){i.attr("data-region-region")===e&&i.attr("data-region-category")===o&&rApp.o.T.removeClass("region-loading")}})))},Z:function(){var t=$(rApp.o.Q);t.empty(),t.removeAttr("data-region-region"),t.removeAttr("data-region-category")},ht:function(t){$(".item",$(rApp.o.Q)).each(function(){var e=$(this);t===e.attr("data-slug")&&o($(".controls-cq.like",e))})},At:function(t){$(".item",$(rApp.o.Q)).each(function(){var e=$(this);t===e.attr("data-slug")&&r($(".controls-cq.like",e))})}}}(),(rApp=rApp||{}).d=function(){var t,e,n=[],o=!1,r=!1,a=1,i=null,p=null,s=null,l=null,c=null,_=null,u=function(e,n,o,r){return r?"/"+e+"/"+n+"/"+o+"/"+r:o?"/"+e+"/"+n+"/"+o:n!==t.A?"/"+e+"/"+n:e!==t.v?"/"+e:"/"},f=function(){rApp.o.j.get(0).history.back()},g=function(t,e,n){setTimeout(function(){t?e?page.show(t,null,!1):page.replace(t,null,null,!1):f(),n&&n()},10)},d=function(t){r=!0,async.series([function(e){var n,o,r=u(p,s),i=u(p,s,l,c),f=i+"#"+_;t&&a--,p&&s&&l&&c&&_?(n=3,o=f):p&&s&&l&&c?(n=2,o=i):p&&s&&l&&_?(n=3,r=u(p,s),i=u(p,s,l),o=f):p&&s&&l?(n=2,o=i):(n=1,o=r),2===n&&1===a?g(r,!1,function(){g(o,!0,function(){a=2,e()})}):3===n&&1===a?g(r,!1,function(){g(i,!0,function(){g(o,!0,function(){a=3,e()})})}):3===n&&2===a?g(i,!1,function(){g(o,!0,function(){a=3,e()})}):1===n&&2===a?g(null,!1,function(){a=1,e()}):1===n&&3===a?g(null,!1,function(){g(null,!1,function(){a=1,e()})}):2===n&&3===a?g(null,!1,function(){a=2,e()}):g(o,!1,function(){e()})}],function(){setTimeout(function(){r=!1},10)})},m=function(){var t=u(p,s,l,c);t!==i&&(i=t,ga("set","page",t),ga("send","pageview"))},h=function(t,o,r,a,i,f){if(t&&o&&r&&a){$(e.mn).hide(),$(e.hn).show();var g=function(n){rApp.$t.wt(t,o,r,a,function(i){if(i)return $(e.hn).hide(),$(e.mn).show(),void n();document.location.href=u(t,o,r,a),n()})};p=t,s=o,l=r,c=a,_=null,m(),n.push(function(t){g(t)}),f&&f()}else f&&f()},v=function(e,a,i,u,f,g){if(r)g&&g();else{var h=function(n){async.parallel([function(n){rApp.zt.F(e,a,i,!o,function(){t.u&&rApp.in.vn(e,a,i,u),rApp.R.Nt(rApp.U.O(i)),n()})},function(t){i?rApp.R.bt("region",!o,t):(rApp.R.Et(null),rApp.R.bt(null,!o,t))}],function(){n()})};p=e,s=a,l=i,c=u,_=null,m(),d(f),o?rApp.t.S(e,a,function(){h(function(){g&&g()})}):(n.push(function(t){async.parallel([function(t){rApp.U.An(e,i,u,function(){t()})},function(t){rApp.t.w(e,a,function(){t()})}],function(){h(t)})}),g&&g())}};return{e:function(n){!function(){t=rApp.n,rApp.o.d={mn:"#page-content .container.info",hn:"#page-content .spinner"},e=rApp.o.d}(),function(){var e=!1,a=rApp.f()?h:v,i=function(){return!!o};page("/:categorySlug/:locationSlug/:regionSlug/:profileSlug",function(t){a(t.params.categorySlug,t.params.locationSlug,t.params.regionSlug,t.params.profileSlug,i(),function(){e||(e=!0,n())})}),page("/:categorySlug/:locationSlug/:regionSlug",function(t){a(t.params.categorySlug,t.params.locationSlug,t.params.regionSlug,null,i(),function(){e||(e=!0,n())})}),page("/:categorySlug/:locationSlug",function(t){a(t.params.categorySlug,t.params.locationSlug,null,null,i(),function(){e||(e=!0,n())})}),page("/:categorySlug",function(o){a(o.params.categorySlug,t.A,null,null,i(),function(){e||(e=!0,n())})}),page("/",function(){a(t.v,t.A,null,null,i(),function(){e||(e=!0,n())})}),page("*",function(){!function(){r||(p=null,s=null,l=null,c=null,_=null,m(),d(i()))}(),e||(e=!0,n())}),page({click:!1})}()},_:function(t){async.eachSeries(n,function(t,e){t(e)},function(){n=[],o=!0,t()})},J:function(){return s},V:function(){return p},B:function(){return l},wn:function(){return c},g:function(t){v(t,s,null,null,!1)},m:function(t){v(p,t,null,null,!1)},Ye:function(t){v(p,s,t,null,!1)},h:function(t,e,n,o){v(t,e,n,o,!1)},C:u,X:function(){r||"ranking"!==_&&(_="ranking",d(!1))},K:function(){r||_&&(_=null,d(!1))},kt:f}}(),(rApp=rApp||{}).U=function(){var t,e,n=null,o=function(t){n={slug:t.slug,Tt:t.name,Ht:t.picture,jt:t.likes,Ze:t.newLikes,qt:t.rank}};return{e:function(n){!function(){t=rApp.n,rApp.o.U={},e=rApp.o.U}(),function(){var t=$("#rAppDataCustomProfile");0!==t.length&&o(JSON.parse(t.html()))}(),n()},_:function(t){t()},O:function(t){return rApp.d.wn()?n:rApp.zt.sn(t)},An:function(e,r,a,i){var p=null;async.series([function(o){t.u?n?o():e&&r&&a?$.ajax({url:t.$+"/categories/"+e+"/regions/"+r+"/profiles/"+a,type:"GET",success:function(t){p=t,$("#rAppData").append($("<script>").attr("id","rAppDataCustomProfile").attr("type","application/json").html(JSON.stringify(t))),o()},error:function(){o(new Error("Error loading Profile"))}}):o():o()},function(t){p?(o(p),t()):t()}],function(t){t&&rApp.k(t),i&&i()})},vt:function(e,n,o,r){var a=e+","+n+","+o;rApp.$n(a)||$.ajax({url:t.$+"/categories/"+e+"/regions/"+n+"/profiles/"+o+"/likes",type:"POST",success:function(t){rApp.Cn(a,"1",t.expiration),r(!1)},error:function(){r(!0)}})},Wt:function(t,e,n){return!!rApp.$n(t+","+e+","+n)}}}(),(rApp=rApp||{}).in=function(){var t,e,n=null,o=null,r=function(t,e,n,o){var r="og"===n||"fb"===n||"article"===n?"property":"name";$("meta["+r+"="+(n?n+"\\:":"")+t+(o?"\\:"+o:"")+"]").remove(),$("head").prepend("<meta "+r+'="'+(n?n+":":"")+t+(o?":"+o:"")+'" content="'+e+'">')},a=function(e,n,o,a,i,p,s,l){var c=p?p.toISOString():null,_=s?s.toISOString():null,u=t.rn+"#SPA_PREVIEW_PATH#",f=t.Ne.Jt,g=t.Ne.Zt;!function(){var r={"@context":"http://schema.org","@type":"NewsArticle",mainEntityOfPage:o,headline:e,image:{"@type":"ImageObject",url:u,height:g,width:f}};c&&(r.datePublished=c),_&&(r.dateModified=_),r.author={"@type":"Person",name:t.Tt},r.description=n,$("#rAppDataStructured").remove(),$("head").append($("<script>").attr("id","rAppDataStructured").attr("type","application/ld+json").html(JSON.stringify(r)))}(),r("image",u,"twitter"),r("description",n,"twitter"),r("title",e,"twitter"),r("url",a,"twitter"),r("card","summary_large_image","twitter"),r("app_id",t.yn,"fb"),r("description",n,"og"),r("image",g,"og","height"),r("image",f,"og","width"),r("image",u,"og"),r("url",a,"og"),r("title",e,"og"),r("site_name",t.Tt,"og"),r("type","article","og"),$("link[rel=canonical]").remove(),$("head").prepend('<link rel="canonical" href="'+i+'"/>'),_&&r("modified_time",_,"article"),c&&r("published_time",c,"article"),_&&r("date",_),r("description",n),r("title",e),$(document).prop("title",e+" | "+t.Tt),r("robots",(l?"INDEX":"NOINDEX")+",FOLLOW,NOODP")};return{e:function(n){!function(){t=rApp.n,rApp.o.in={},e=rApp.o.in}(),n()},_:function(t){t()},vn:function(e,r,i,p){var s,l,c,_,u,f,g,d,m="",h="",v=null,A=null;s=rApp.U.O(i),l=rApp.zt.ln(),c=rApp.t.b(),_=rApp.t.P(),s&&l&&s.Tt&&l.Tt?m=s.Tt+(s.qt?" is #"+s.qt:"")+" in "+l.Tt:c&&l&&l.Tt?m=c+" in "+l.Tt:c&&_&&(m=c+" in "+_),c&&s&&l&&s.Tt&&l.Tt?h=s.Tt+" "+(s.qt?"is the #"+s.qt:"could be the")+" "+c+" in "+l.Tt+(s.jt?" with "+rApp.It(s.jt)+" likes":"")+".":c&&l&&l.Tt?h="Vote now for the "+c+" in "+l.Tt+".":c&&_&&(h="Vote now for the "+c+" in "+_+"."),u=t.kn+rApp.d.C(e,r,i),f=t.kn+rApp.d.C(e,r,i,p),g=rApp.$t.C(f),n&&(v=new Date(1e3*n)),o&&(A=new Date(1e3*o)),d=!p&&(i?rApp.zt.cn(i):rApp.zt._n()),a(m,h,f,g,u,v,A,d)},an:function(t,e){n=t,o=e},Sn:function(t){r("prerender-status-code",t)}}}(),(rApp=rApp||{}).en=function(){var t,e,n=null,o=[],r=function(){var t,e,o,r,a="";if(n)return r=Math.max(n-Math.round((new Date).getTime()/1e3),0),t=Math.floor(r/3600),e=Math.floor((r-3600*t)/60),o=r-3600*t-60*e,t||e||o?(t&&(a+=t+" "+(1===t?"hour":"hours")+", "),(t||e)&&(a+=e+" "+(1===e?"minute":"minutes")+", "),a+=o+" "+(1===o?"second":"seconds")):a="Counting likes ...",a},a=function(n,o,r){var a=$(e.bn).width(),i=n.outerWidth(),p=i<=a,s=Math.round(a-i),l=Math.max(Math.abs(Math.round(s/t.xn)),1);async.series([function(t){o&&"object"==typeof o?(n.click(function(t){t.preventDefault(),rApp.d.h(o.En,o.Pn,o.Rn)}),t()):t()},function(e){p?setTimeout(function(){e()},t.Ln):e()},function(e){p?e():setTimeout(function(){n.animate({left:s+"px"},{duration:l,easing:"linear",always:function(){setTimeout(function(){e()},t.Ln/2)}})},t.Ln/2)}],function(){r&&r()})},i=function(n,o,r,a,i){var p=null;async.series([function(n){a?n():$(e.Mn).fadeOut(t.Tn,function(){n()})},function(t){var a=$(e.Dn);a.empty(),a.on("marquee-appened","a",function(){a.off("marquee-appened"),t()}),p=$("<a>").attr("class",r).text(n),function(){var t;o&&("object"==typeof o?t=rApp.d.C(o.En,o.Pn,o.Rn):"/"!==(t=o).charAt(0)&&p.attr("target","_blank"),p.attr("href",t))}(),p.appendTo(a).trigger("marquee-appened")}],function(){i&&i(p)})};return{e:function(n){!function(){t=rApp.n,rApp.o.en={bn:".marquee",Dn:".marquee-wrapper",Mn:".marquee-wrapper > a"},e=rApp.o.en}(),n()},_:function(n){!function(){t.u?n():async.series([function(t){a($(e.Mn),o[0].qn,function(){t()})}],function(){var t=!0;setInterval(function(){t&&(t=!1,async.series([function(t){i(r(),null,"timer",!1,function(e){var n;n=setInterval(function(){e&&e.text(r())},1e3),a(e,null,function(){clearInterval(n),t()})})},function(t){var e=null;!function(){o.forEach(function(t){e||t.jn||(e=t)}),e||(o.forEach(function(t){t.jn=!1}),o[0]&&(e=o[0]))}(),e?(e.jn=!0,i(e.In,e.qn,"notice",!1,function(n){a(n,e.qn,function(){t()})})):t()}],function(){t=!0}))},500),n()})}()},tn:function(t){n=t},nn:function(e,n){o=[],e.forEach(function(t,e){var r,a;2===t.type?(r=t.f1+" remains in #"+t.f4+" in "+t.f3,a={En:t.f6,Pn:t.f7,Rn:t.f8,Hn:t.f9}):3===t.type?(r=t.f1+t.f2+t.f3,a=t.f4):(r=t.f1+" is now #"+t.f4+" in "+t.f3+" !",a={En:t.f6,Pn:t.f7,Rn:t.f8,Hn:t.f9}),o.push({In:r,qn:a,jn:!(!n||0!==e)})}),t.u&&o[0]&&i(o[0].In,o[0].qn,"notice",!0)}}}(),(rApp=rApp||{}).$t=function(){var t,e,n=function(t){return t+"?t="+rApp.zt.un()},o=function(t,e,n){var o,r,a=null,i="window";"whatsapp"===t?(o="whatsapp://send?text=",n&&(o+=n),o+=" "+encodeURI(e),i="redirect"):"facebook"===t&&(o="http://www.facebook.com/sharer/sharer.php?u="+e,a=900,r=500),"redirect"===i?document.location.href=o:a?window.open(o,t,"toolbar=0,status=0,width="+a+",height="+r):window.open(o,t)},r=function(e,n,o,r,a){$.ajax({url:t.$+"/categories/"+e+"/locations/"+n+"/regions/"+o+"/profiles/"+r+"/shares",type:"POST",success:function(){a(!1)},error:function(){a(!0)}})},a=function(e,r,a,i,p){var s=n(t.kn+rApp.d.C(r,a,i,p));r&&a&&o(e,s,"")};return{e:function(n){!function(){t=rApp.n,rApp.o.$t={},e=rApp.o.$t}(),n()},_:function(t){t()},Ct:function(t,e,n,o){a("facebook",t,e,n,o)},yt:function(t,e,n,o){a("whatsapp",t,e,n,o)},wt:function(t,e,n,o,a){o?r(t,e,n,o,a):a(!1)},C:n}}(),function(){var t={appUrl:"http://coonquer.com",apiUrl:"http://api.coonquer.com/v1",facebookAppId:"251792518617277",defaultCategory:"coonquer",defaultLocation:"the-world",bucketUrl:"http://tfs.coonquer.com/"};(rApp=rApp||{}).n={kn:t.appUrl,$:t.apiUrl,yn:t.facebookAppId,v:t.defaultCategory,A:t.defaultLocation,pn:"previews/",rn:t.bucketUrl,Dt:"<Not coonquered>",q:90,L:300,tt:150,ze:150,xn:.09,Ln:1e4,Tn:300,N:{W:768,z:!0},Oe:350,Be:50,G:{gn:300,dn:3},ye:.1,Ue:300,Ve:40,et:43,Fe:70,Ge:50,ke:20,Tt:"Coonquer",Te:"#fff",Me:"#000",De:"#ccc",je:"#fff",Ie:"#eee",qe:"#000",We:"#fff",Ne:{Jt:1200,Zt:630},Wn:!1,u:/ Prerender /.test(navigator.userAgent)};var e=function(){rApp.o={j:$(window),T:$("body"),Ce:".hero-section",Q:".results-content",D:".map-wrapper"},rApp.Nn=rApp.o.T.hasClass("homepage")?1:2,function(){var t=rApp.o.j.width(),e=rApp.o.j.height(),n=[],o=[];rApp.St=function(t,e){n.push(t),e&&o.push(e)},rApp.o.j.resize(function(){var r=rApp.o.j.width(),a=rApp.o.j.height();o.forEach(function(t){t()}),t===r&&e===a||(t=r,e=a,n.forEach(function(t){t()}))})}(),rApp.It=function(t){return null===t||void 0===t?"":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},rApp.k=function(t){rApp.n.Wn?console.log(t.message):"undefined"!=typeof Raven&&Raven.captureException(t),rApp.n.u&&rApp.in.Sn("500")},rApp.Cn=function(t,e,n){var o;n&&(o=n-(new Date).getTime()/1e3,(o=Math.round(o/60))<1||lscache.set(t,e,o))},rApp.$n=function(t){return lscache.get(t)},rApp.f=function(){return 2===rApp.Nn}};$(function(){var t;e(),t=1===rApp.Nn,async.parallel([function(t){rApp.t.e(t)},function(e){t?rApp.R.e(e):e()},function(e){t?rApp.zt.e(e):e()},function(e){t?rApp.G.e(e):e()},function(t){rApp.d.e(t)},function(e){t?rApp.U.e(e):e()},function(e){t?rApp.in.e(e):e()},function(e){t?rApp.en.e(e):e()},function(t){rApp.$t.e(t)}],function(){async.series([function(t){rApp.t._(t)},function(e){t?rApp.R._(e):e()},function(e){t?rApp.zt._(e):e()},function(e){t?rApp.G._(e):e()},function(t){rApp.d._(t)},function(e){t?rApp.U._(e):e()},function(e){t?rApp.in._(e):e()},function(e){t?rApp.en._(e):e()},function(t){rApp.$t._(t)}],function(){setTimeout(function(){window.prerenderReady=!0},10)})})}),function(){var t=!1,e=function(){t||(t=!0)};$(window).on("load",function(){e()}),setTimeout(function(){e()},5e3)}()}();